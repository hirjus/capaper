<!DOCTYPE html>
<html lang="fi" xml:lang="fi">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Liitteet | Korrespondenssianalyysi - graafinen ja geometrinen data-analyysin menetelmä</title>
  <meta name="description" content="Tutkielma korrespondenssianalyysistä graafisena data-analyysin menetelmänä." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Liitteet | Korrespondenssianalyysi - graafinen ja geometrinen data-analyysin menetelmä" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Tutkielma korrespondenssianalyysistä graafisena data-analyysin menetelmänä." />
  <meta name="github-repo" content="hirjus/capaper" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Liitteet | Korrespondenssianalyysi - graafinen ja geometrinen data-analyysin menetelmä" />
  
  <meta name="twitter:description" content="Tutkielma korrespondenssianalyysistä graafisena data-analyysin menetelmänä." />
  

<meta name="author" content="Jussi Hirvonen" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="monimuuttuja-korrespondenssianalyysi-mca-ja-yhdistetyt-taulukot.html"/>
<link rel="next" href="lähteet-1.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Alkutoimia</a></li>
<li class="chapter" data-level="1" data-path="johdanto.html"><a href="johdanto.html"><i class="fa fa-check"></i><b>1</b> Johdanto</a><ul>
<li class="chapter" data-level="1.1" data-path="johdanto.html"><a href="johdanto.html#tutkielman-tavoite-tutkimusongelma"><i class="fa fa-check"></i><b>1.1</b> Tutkielman tavoite (tutkimusongelma?)</a></li>
<li class="chapter" data-level="1.2" data-path="johdanto.html"><a href="johdanto.html#tärkeimmät-lähteet-ja-ohjelmistot"><i class="fa fa-check"></i><b>1.2</b> Tärkeimmät lähteet ja ohjelmistot</a><ul>
<li class="chapter" data-level="1.2.1" data-path="johdanto.html"><a href="johdanto.html#lähteet"><i class="fa fa-check"></i><b>1.2.1</b> Lähteet</a></li>
<li class="chapter" data-level="1.2.2" data-path="johdanto.html"><a href="johdanto.html#käytetyt-ohjelmistot"><i class="fa fa-check"></i><b>1.2.2</b> Käytetyt ohjelmistot</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="johdanto.html"><a href="johdanto.html#korrespondenssianalyysin-historiaa"><i class="fa fa-check"></i><b>1.3</b> Korrespondenssianalyysin historiaa</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data</a><ul>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#datan-luku-ja-perusmuokkaukset"><i class="fa fa-check"></i><b>2.1</b> Datan luku ja perusmuokkaukset</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data.html"><a href="data.html#maat-ja-muuttujat"><i class="fa fa-check"></i><b>2.1.1</b> Maat ja muuttujat</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data.html"><a href="data.html#aineiston-kuvailu-tietosisältö"><i class="fa fa-check"></i><b>2.2</b> Aineiston kuvailu (tietosisältö)</a></li>
<li class="chapter" data-level="2.3" data-path="data.html"><a href="data.html#aineiston-rajaaminen-maat-ja-muuttujat"><i class="fa fa-check"></i><b>2.3</b> Aineiston rajaaminen maat ja muuttujat</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="yksinkertainen-korrespondenssianalyysi.html"><a href="yksinkertainen-korrespondenssianalyysi.html"><i class="fa fa-check"></i><b>3</b> Yksinkertainen korrespondenssianalyysi</a><ul>
<li class="chapter" data-level="3.1" data-path="yksinkertainen-korrespondenssianalyysi.html"><a href="yksinkertainen-korrespondenssianalyysi.html#äiti-töissä--kärsiikö-lapsi"><i class="fa fa-check"></i><b>3.1</b> Äiti töissä -kärsiikö lapsi?</a></li>
<li class="chapter" data-level="3.2" data-path="yksinkertainen-korrespondenssianalyysi.html"><a href="yksinkertainen-korrespondenssianalyysi.html#kahden-muuttujan-frekvenssitaulukon-analyysi"><i class="fa fa-check"></i><b>3.2</b> Kahden muuttujan frekvenssitaulukon analyysi</a></li>
<li class="chapter" data-level="3.3" data-path="yksinkertainen-korrespondenssianalyysi.html"><a href="yksinkertainen-korrespondenssianalyysi.html#ca---esimerkki"><i class="fa fa-check"></i><b>3.3</b> CA - esimerkki</a></li>
<li class="chapter" data-level="3.4" data-path="yksinkertainen-korrespondenssianalyysi.html"><a href="yksinkertainen-korrespondenssianalyysi.html#korrespondenssianalyysin-peruskäsitteet"><i class="fa fa-check"></i><b>3.4</b> Korrespondenssianalyysin peruskäsitteet</a><ul>
<li class="chapter" data-level="3.4.1" data-path="yksinkertainen-korrespondenssianalyysi.html"><a href="yksinkertainen-korrespondenssianalyysi.html#asymmetrinen-kartta-ja-ideaalipisteet"><i class="fa fa-check"></i><b>3.4.1</b> Asymmetrinen kartta ja ideaalipisteet</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="yksinkertainen-korrespondenssianalyysi.html"><a href="yksinkertainen-korrespondenssianalyysi.html#kontribuutiot-kartalla"><i class="fa fa-check"></i><b>3.5</b> Kontribuutiot kartalla</a></li>
<li class="chapter" data-level="3.6" data-path="yksinkertainen-korrespondenssianalyysi.html"><a href="yksinkertainen-korrespondenssianalyysi.html#massat"><i class="fa fa-check"></i><b>3.6</b> Massat</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html"><i class="fa fa-check"></i><b>4</b> Yksinkertaisen korrespondenssianalyysin laajennuksia 1 - täydentävät pisteet</a><ul>
<li class="chapter" data-level="4.1" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html#täydentävät-pisteet-supplementary-points"><i class="fa fa-check"></i><b>4.1</b> Täydentävät pisteet (supplementary points)</a></li>
<li class="chapter" data-level="4.2" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html#saksan-ja-belgian-alueet"><i class="fa fa-check"></i><b>4.2</b> Saksan ja Belgian alueet</a><ul>
<li class="chapter" data-level="4.2.1" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html#symmetrinen-kartta"><i class="fa fa-check"></i><b>4.2.1</b> Symmetrinen kartta</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-1-täydentävät-pisteet.html#can-numeeriset-tulokset"><i class="fa fa-check"></i><b>4.3</b> CA:n numeeriset tulokset</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-2-yhteisvaikutusmuuttujat.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-2-yhteisvaikutusmuuttujat.html"><i class="fa fa-check"></i><b>5</b> Yksinkertaisen korrespondenssianalyysin laajennuksia 2 - yhteisvaikutusmuuttujat</a><ul>
<li class="chapter" data-level="5.1" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-2-yhteisvaikutusmuuttujat.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-2-yhteisvaikutusmuuttujat.html#ikä-ja-sukupuoli"><i class="fa fa-check"></i><b>5.1</b> Ikä ja sukupuoli</a></li>
<li class="chapter" data-level="5.2" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-2-yhteisvaikutusmuuttujat.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-2-yhteisvaikutusmuuttujat.html#ikä-sukupuoli-ja-maa"><i class="fa fa-check"></i><b>5.2</b> Ikä, sukupuoli ja maa</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="yksinkertaisen-korrespondenssianalyysin-laajennuksia-3-osajoukon-ca.html"><a href="yksinkertaisen-korrespondenssianalyysin-laajennuksia-3-osajoukon-ca.html"><i class="fa fa-check"></i><b>6</b> Yksinkertaisen korrespondenssianalyysin laajennuksia 3 - osajoukon CA</a></li>
<li class="chapter" data-level="7" data-path="monimuuttuja-korrespondenssianalyysi-mca-ja-yhdistetyt-taulukot.html"><a href="monimuuttuja-korrespondenssianalyysi-mca-ja-yhdistetyt-taulukot.html"><i class="fa fa-check"></i><b>7</b> Monimuuttuja-korrespondenssianalyysi (MCA) ja yhdistetyt taulukot</a><ul>
<li class="chapter" data-level="7.1" data-path="monimuuttuja-korrespondenssianalyysi-mca-ja-yhdistetyt-taulukot.html"><a href="monimuuttuja-korrespondenssianalyysi-mca-ja-yhdistetyt-taulukot.html#pinotut-ja-yhdistetyt-taulukot-stacked-and-concatenated-tables"><i class="fa fa-check"></i><b>7.1</b> Pinotut ja yhdistetyt taulukot (stacked and concatenated tables)</a></li>
<li class="chapter" data-level="7.2" data-path="monimuuttuja-korrespondenssianalyysi-mca-ja-yhdistetyt-taulukot.html"><a href="monimuuttuja-korrespondenssianalyysi-mca-ja-yhdistetyt-taulukot.html#mca---monimuuttujakorrespondenssianalyysi"><i class="fa fa-check"></i><b>7.2</b> MCA - monimuuttujakorrespondenssianalyysi</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="liitteet.html"><a href="liitteet.html"><i class="fa fa-check"></i>Liitteet</a><ul>
<li class="chapter" data-level="7.3" data-path="liitteet.html"><a href="liitteet.html#korrespondenssianalyysin-teoriaa"><i class="fa fa-check"></i><b>7.3</b> Korrespondenssianalyysin teoriaa</a></li>
<li class="chapter" data-level="7.4" data-path="liitteet.html"><a href="liitteet.html#suomenkielinen-lomake-esimerkki"><i class="fa fa-check"></i><b>7.4</b> Suomenkielinen lomake (esimerkki)</a></li>
<li class="chapter" data-level="7.5" data-path="liitteet.html"><a href="liitteet.html#r---koodi"><i class="fa fa-check"></i><b>7.5</b> R - koodi</a></li>
<li class="chapter" data-level="7.6" data-path="liitteet.html"><a href="liitteet.html#tekninen-ympäristö-ja-bookdown-paketti"><i class="fa fa-check"></i><b>7.6</b> Tekninen ympäristö ja Bookdown-paketti</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lähteet-1.html"><a href="lähteet-1.html"><i class="fa fa-check"></i>Lähteet</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Korrespondenssianalyysi - graafinen ja geometrinen data-analyysin menetelmä</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="liitteet" class="section level1 unnumbered">
<h1>Liitteet</h1>
<div id="korrespondenssianalyysin-teoriaa" class="section level2">
<h2><span class="header-section-number">7.3</span> Korrespondenssianalyysin teoriaa</h2>
</div>
<div id="suomenkielinen-lomake-esimerkki" class="section level2">
<h2><span class="header-section-number">7.4</span> Suomenkielinen lomake (esimerkki)</h2>
<p>Tämä kuva on myös tekstissä, kätevä tapa esittää siististi kysymysten pitkät
versiot.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="liitteet.html#cb2-1"></a>knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&#39;img/substvar_fi_Q1Q2.png&#39;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:L1suomlom1"></span>
<img src="img/substvar_fi_Q1Q2.png" alt="Esimerkki suomenkielisestä lomakkeesta" width="60%" />
<p class="caption">
Kuva 7.1: Esimerkki suomenkielisestä lomakkeesta
</p>
</div>
</div>
<div id="r---koodi" class="section level2">
<h2><span class="header-section-number">7.5</span> R - koodi</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="liitteet.html#cb3-1"></a><span class="co"># 18.10.2020</span></span>
<span id="cb3-2"><a href="liitteet.html#cb3-2"></a><span class="kw">library</span>(rgl)</span>
<span id="cb3-3"><a href="liitteet.html#cb3-3"></a><span class="kw">library</span>(ca)</span>
<span id="cb3-4"><a href="liitteet.html#cb3-4"></a><span class="kw">library</span>(haven)</span>
<span id="cb3-5"><a href="liitteet.html#cb3-5"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb3-6"><a href="liitteet.html#cb3-6"></a><span class="kw">library</span>(knitr)</span>
<span id="cb3-7"><a href="liitteet.html#cb3-7"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb3-8"><a href="liitteet.html#cb3-8"></a><span class="kw">library</span>(lubridate)</span>
<span id="cb3-9"><a href="liitteet.html#cb3-9"></a><span class="kw">library</span>(rmarkdown)</span>
<span id="cb3-10"><a href="liitteet.html#cb3-10"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb3-11"><a href="liitteet.html#cb3-11"></a><span class="kw">library</span>(furniture)</span>
<span id="cb3-12"><a href="liitteet.html#cb3-12"></a><span class="kw">library</span>(scales) <span class="co"># G_1_2 - kuva</span></span>
<span id="cb3-13"><a href="liitteet.html#cb3-13"></a><span class="kw">library</span>(reshape2)  <span class="co"># G_1_2 - kuva</span></span>
<span id="cb3-14"><a href="liitteet.html#cb3-14"></a><span class="kw">library</span>(printr) <span class="co">#19.5.18 taulukoiden ja matriisien tulostukseen</span></span>
<span id="cb3-15"><a href="liitteet.html#cb3-15"></a><span class="kw">library</span>(bookdown)</span>
<span id="cb3-16"><a href="liitteet.html#cb3-16"></a><span class="kw">library</span>(tinytex)</span>
<span id="cb3-17"><a href="liitteet.html#cb3-17"></a><span class="kw">library</span>(assertthat)</span>
<span id="cb3-18"><a href="liitteet.html#cb3-18"></a></span>
<span id="cb3-19"><a href="liitteet.html#cb3-19"></a></span>
<span id="cb3-20"><a href="liitteet.html#cb3-20"></a><span class="co"># automatically create a bib database for R packages</span></span>
<span id="cb3-21"><a href="liitteet.html#cb3-21"></a>knitr<span class="op">::</span><span class="kw">write_bib</span>(<span class="kw">c</span>(</span>
<span id="cb3-22"><a href="liitteet.html#cb3-22"></a>  <span class="kw">.packages</span>(), <span class="st">&#39;bookdown&#39;</span>, <span class="st">&#39;knitr&#39;</span>, <span class="st">&#39;rmarkdown&#39;</span></span>
<span id="cb3-23"><a href="liitteet.html#cb3-23"></a>), <span class="st">&#39;packages.bib&#39;</span>)</span>
<span id="cb3-24"><a href="liitteet.html#cb3-24"></a></span>
<span id="cb3-25"><a href="liitteet.html#cb3-25"></a><span class="co"># include FALSE: ei koodia eikä tulostusta dokumenttiin - poistettava turhia</span></span>
<span id="cb3-26"><a href="liitteet.html#cb3-26"></a><span class="co"># välitulostuksia (18.10.2020)</span></span>
<span id="cb3-27"><a href="liitteet.html#cb3-27"></a><span class="co"># Aineiston rajaamisen kolme vaihetta (10.2018)</span></span>
<span id="cb3-28"><a href="liitteet.html#cb3-28"></a><span class="co"># </span></span>
<span id="cb3-29"><a href="liitteet.html#cb3-29"></a><span class="co"># TIEDOSTOJEN NIMEÄMINEN</span></span>
<span id="cb3-30"><a href="liitteet.html#cb3-30"></a><span class="co">#</span></span>
<span id="cb3-31"><a href="liitteet.html#cb3-31"></a><span class="co"># R-datatiedostot .data - tarkenteella ovat osajoukkoja koko ISSP-datasta ISSP2012.data</span></span>
<span id="cb3-32"><a href="liitteet.html#cb3-32"></a><span class="co"># R-datatiedostot .dat - tarkenteella: mukana alkuperäisten muuttujien muunnoksia </span></span>
<span id="cb3-33"><a href="liitteet.html#cb3-33"></a><span class="co"># (yleensä as_factor), alkuperäisissä muuttujissa mukana SPSS-tiedoston metadata.</span></span>
<span id="cb3-34"><a href="liitteet.html#cb3-34"></a><span class="co">#</span></span>
<span id="cb3-35"><a href="liitteet.html#cb3-35"></a><span class="co"># Luokittelumuuttujan tyyppi on datan lukemisen jälkeen yleensä merkkijono (char) </span></span>
<span id="cb3-36"><a href="liitteet.html#cb3-36"></a><span class="co"># ja haven_labelled. </span></span>
<span id="cb3-37"><a href="liitteet.html#cb3-37"></a><span class="co">#</span></span>
<span id="cb3-38"><a href="liitteet.html#cb3-38"></a><span class="co"># Muutetaan R-datassa ordinaali- tai  nominaaliasteikon muuttujat haven-paketin </span></span>
<span id="cb3-39"><a href="liitteet.html#cb3-39"></a><span class="co"># as_factor - funktiolla faktoreiksi. R:n faktorityypin muuttujille voidaan tarvittaessa </span></span>
<span id="cb3-40"><a href="liitteet.html#cb3-40"></a><span class="co"># määritellä järjestys, toistaiseksi niin ei tehdä (25.9.2018). </span></span>
<span id="cb3-41"><a href="liitteet.html#cb3-41"></a><span class="co">#</span></span>
<span id="cb3-42"><a href="liitteet.html#cb3-42"></a><span class="co"># Muunnetun muuttujan rinnalla säilytetään SPSS-tiedostosta luettu muuttja, metatiedot säilyvät </span></span>
<span id="cb3-43"><a href="liitteet.html#cb3-43"></a><span class="co"># alkuperäisessä.</span></span>
<span id="cb3-44"><a href="liitteet.html#cb3-44"></a><span class="co">#       </span></span>
<span id="cb3-45"><a href="liitteet.html#cb3-45"></a><span class="co"># R-datatiedostot joiden nimen loppuosa on muotoa *esim1.dat: käytetään analyyseissä</span></span>
<span id="cb3-46"><a href="liitteet.html#cb3-46"></a><span class="co">#</span></span>
<span id="cb3-47"><a href="liitteet.html#cb3-47"></a><span class="co"># 1. VALITAAN MAAT (25) -&gt; ISSP2012jh1a.data. Muuttujat koodilohkossa datasel_vars1</span></span>
<span id="cb3-48"><a href="liitteet.html#cb3-48"></a><span class="co">#</span></span>
<span id="cb3-49"><a href="liitteet.html#cb3-49"></a><span class="co"># kolme maa-muuttujaa datassa. V3 erottelee joidenkin maiden alueita, V4 on koko </span></span>
<span id="cb3-50"><a href="liitteet.html#cb3-50"></a><span class="co"># maan koodi ja C_ALPHAN on maan kaksimerkkinen tunnus.</span></span>
<span id="cb3-51"><a href="liitteet.html#cb3-51"></a><span class="co">#</span></span>
<span id="cb3-52"><a href="liitteet.html#cb3-52"></a><span class="co"># V3 - Country/ Sample ISO 3166 Code (see V4 for codes for whole nation states)</span></span>
<span id="cb3-53"><a href="liitteet.html#cb3-53"></a><span class="co"># V3 erot valituissa maissa</span></span>
<span id="cb3-54"><a href="liitteet.html#cb3-54"></a><span class="co"># 5601 BE-FLA-Belgium/ Flanders</span></span>
<span id="cb3-55"><a href="liitteet.html#cb3-55"></a><span class="co"># 5602 BE-WAL-Belgium/ Wallonia</span></span>
<span id="cb3-56"><a href="liitteet.html#cb3-56"></a><span class="co"># 5603 BE-BRU-Belgium/ Brussels</span></span>
<span id="cb3-57"><a href="liitteet.html#cb3-57"></a><span class="co"># 27601 DE-W-Germany-West</span></span>
<span id="cb3-58"><a href="liitteet.html#cb3-58"></a><span class="co"># 27602 DE-E-Germany-East</span></span>
<span id="cb3-59"><a href="liitteet.html#cb3-59"></a><span class="co"># 62001 PT-Portugal 2012: first fieldwork round (main sample)</span></span>
<span id="cb3-60"><a href="liitteet.html#cb3-60"></a><span class="co"># 62002 PT-Portugal 2012: second fieldwork round (complementary sample)</span></span>
<span id="cb3-61"><a href="liitteet.html#cb3-61"></a><span class="co"># Myös tämä on erikoinen, näyttää olevan vakio kun V4 = 826:</span></span>
<span id="cb3-62"><a href="liitteet.html#cb3-62"></a><span class="co"># 82601 GB-GBN-Great Britain</span></span>
<span id="cb3-63"><a href="liitteet.html#cb3-63"></a><span class="co"># Portugalissa ainestoa täydennettiin, koska siinä oli puutteita. Jako ei siis ole oleellinen,</span></span>
<span id="cb3-64"><a href="liitteet.html#cb3-64"></a><span class="co"># mutta muuut ovat. Tähdellä merkityt maat valitaan johdattelevaan esimerkkiin.</span></span>
<span id="cb3-65"><a href="liitteet.html#cb3-65"></a><span class="co">#</span></span>
<span id="cb3-66"><a href="liitteet.html#cb3-66"></a><span class="co"># Maat (25)</span></span>
<span id="cb3-67"><a href="liitteet.html#cb3-67"></a><span class="co">#</span></span>
<span id="cb3-68"><a href="liitteet.html#cb3-68"></a><span class="co"># 36 AU-Australia</span></span>
<span id="cb3-69"><a href="liitteet.html#cb3-69"></a><span class="co"># 40 AT-Austria</span></span>
<span id="cb3-70"><a href="liitteet.html#cb3-70"></a><span class="co"># 56 BE-Belgium*</span></span>
<span id="cb3-71"><a href="liitteet.html#cb3-71"></a><span class="co"># 100 BG-Bulgaria*</span></span>
<span id="cb3-72"><a href="liitteet.html#cb3-72"></a><span class="co"># 124 CA-Canada</span></span>
<span id="cb3-73"><a href="liitteet.html#cb3-73"></a><span class="co"># 191 HR-Croatia</span></span>
<span id="cb3-74"><a href="liitteet.html#cb3-74"></a><span class="co"># 203 CZ-Czech Republic</span></span>
<span id="cb3-75"><a href="liitteet.html#cb3-75"></a><span class="co"># 208 DK-Denmark*</span></span>
<span id="cb3-76"><a href="liitteet.html#cb3-76"></a><span class="co"># 246 FI-Finland*</span></span>
<span id="cb3-77"><a href="liitteet.html#cb3-77"></a><span class="co"># 250 FR-France</span></span>
<span id="cb3-78"><a href="liitteet.html#cb3-78"></a><span class="co"># 276 DE-Germany*</span></span>
<span id="cb3-79"><a href="liitteet.html#cb3-79"></a><span class="co"># 348 HU-Hungary*</span></span>
<span id="cb3-80"><a href="liitteet.html#cb3-80"></a><span class="co"># 352 IS-Iceland</span></span>
<span id="cb3-81"><a href="liitteet.html#cb3-81"></a><span class="co"># 372 IE-Ireland</span></span>
<span id="cb3-82"><a href="liitteet.html#cb3-82"></a><span class="co"># 428 LV-Latvia</span></span>
<span id="cb3-83"><a href="liitteet.html#cb3-83"></a><span class="co"># 440 LT-Lithuania</span></span>
<span id="cb3-84"><a href="liitteet.html#cb3-84"></a><span class="co"># 528 NL-Netherlands</span></span>
<span id="cb3-85"><a href="liitteet.html#cb3-85"></a><span class="co"># 578 NO-Norway</span></span>
<span id="cb3-86"><a href="liitteet.html#cb3-86"></a><span class="co"># 616 PL-Poland</span></span>
<span id="cb3-87"><a href="liitteet.html#cb3-87"></a><span class="co"># 620 PT-Portugal</span></span>
<span id="cb3-88"><a href="liitteet.html#cb3-88"></a><span class="co"># 643 RU-Russia</span></span>
<span id="cb3-89"><a href="liitteet.html#cb3-89"></a><span class="co"># 703 SK-Slovakia</span></span>
<span id="cb3-90"><a href="liitteet.html#cb3-90"></a><span class="co"># 705 SI-Slovenia</span></span>
<span id="cb3-91"><a href="liitteet.html#cb3-91"></a><span class="co"># 752 SE-Sweden</span></span>
<span id="cb3-92"><a href="liitteet.html#cb3-92"></a><span class="co"># 756 CH-Switzerland</span></span>
<span id="cb3-93"><a href="liitteet.html#cb3-93"></a><span class="co"># 826 GB-Great Britain and/or United Kingdom - jätetään pois jotta saadaan TOPBOT </span></span>
<span id="cb3-94"><a href="liitteet.html#cb3-94"></a><span class="co">#                          -muuttuja mukaan (top-bottom self-placement) .(9.10.18)</span></span>
<span id="cb3-95"><a href="liitteet.html#cb3-95"></a><span class="co"># 840 US-United States - jätetään pois, jotta saadaan TOPBOT-muuttuja mukaan.(10.10.18)</span></span>
<span id="cb3-96"><a href="liitteet.html#cb3-96"></a><span class="co">#</span></span>
<span id="cb3-97"><a href="liitteet.html#cb3-97"></a><span class="co"># Belgian ja Saksan alueet:</span></span>
<span id="cb3-98"><a href="liitteet.html#cb3-98"></a><span class="co">#  V3</span></span>
<span id="cb3-99"><a href="liitteet.html#cb3-99"></a><span class="co">#  5601     BE-FLA-Belgium/ Flanders</span></span>
<span id="cb3-100"><a href="liitteet.html#cb3-100"></a><span class="co">#  5602     BE-WAL-Belgium/ Wallonia</span></span>
<span id="cb3-101"><a href="liitteet.html#cb3-101"></a><span class="co">#  5603     BE-BRU-Belgium/ Brussels</span></span>
<span id="cb3-102"><a href="liitteet.html#cb3-102"></a><span class="co"># 27601     DE-W-Germany-West</span></span>
<span id="cb3-103"><a href="liitteet.html#cb3-103"></a><span class="co"># 27602     DE-E-Germany-East</span></span>
<span id="cb3-104"><a href="liitteet.html#cb3-104"></a><span class="co">#</span></span>
<span id="cb3-105"><a href="liitteet.html#cb3-105"></a><span class="co"># Unkari (348) toistaiseksi mukana, mutta joissain kysymyksissä myös Unkarilla on </span></span>
<span id="cb3-106"><a href="liitteet.html#cb3-106"></a><span class="co"># poikkeavia vastausvaihtoehtoja(HU_V18, HU_V19,HU_V20). Jos näitä muuttujia käytetään, </span></span>
<span id="cb3-107"><a href="liitteet.html#cb3-107"></a><span class="co"># Unkari on parempi jättää pois. </span></span>
<span id="cb3-108"><a href="liitteet.html#cb3-108"></a><span class="co"># </span></span>
<span id="cb3-109"><a href="liitteet.html#cb3-109"></a><span class="co">#</span></span>
<span id="cb3-110"><a href="liitteet.html#cb3-110"></a><span class="co"># (25.4.2018) user_na  </span></span>
<span id="cb3-111"><a href="liitteet.html#cb3-111"></a><span class="co"># haven-paketin read_spss - funktiolla voi r-tiedostoon lukea myös SPSS:n sallimat kolme </span></span>
<span id="cb3-112"><a href="liitteet.html#cb3-112"></a><span class="co"># (yleensä 7, 8, 9) tarkempaa koodia puuttuvalle tiedolle.</span></span>
<span id="cb3-113"><a href="liitteet.html#cb3-113"></a><span class="co"># &quot;If TRUE variables with user defined missing will be read into labelled_spss objects. </span></span>
<span id="cb3-114"><a href="liitteet.html#cb3-114"></a><span class="co"># If FALSE, the default, user-defined missings will be converted to NA&quot;</span></span>
<span id="cb3-115"><a href="liitteet.html#cb3-115"></a><span class="co"># https://www.rdocumentation.org/packages/haven/versions/1.1.0/topics/read_spss</span></span>
<span id="cb3-116"><a href="liitteet.html#cb3-116"></a><span class="co">#</span></span>
<span id="cb3-117"><a href="liitteet.html#cb3-117"></a> </span>
<span id="cb3-118"><a href="liitteet.html#cb3-118"></a>ISSP2012jh.data &lt;-<span class="st"> </span><span class="kw">read_spss</span>(<span class="st">&quot;data/ZA5900_v4-0-0.sav&quot;</span>) <span class="co">#luetaan alkuperäinen data R- dataksi (df).</span></span>
<span id="cb3-119"><a href="liitteet.html#cb3-119"></a></span>
<span id="cb3-120"><a href="liitteet.html#cb3-120"></a><span class="co">#str(ISSP2012jh.data)</span></span>
<span id="cb3-121"><a href="liitteet.html#cb3-121"></a></span>
<span id="cb3-122"><a href="liitteet.html#cb3-122"></a>incl_countries25 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">36</span>, <span class="dv">40</span>, <span class="dv">56</span>,<span class="dv">100</span>, <span class="dv">124</span>, <span class="dv">191</span>, <span class="dv">203</span>, <span class="dv">208</span>, <span class="dv">246</span>, <span class="dv">250</span>, <span class="dv">276</span>, <span class="dv">348</span>, <span class="dv">352</span>, </span>
<span id="cb3-123"><a href="liitteet.html#cb3-123"></a>                      <span class="dv">372</span>, <span class="dv">428</span>, <span class="dv">440</span>, <span class="dv">528</span>, <span class="dv">578</span>, <span class="dv">616</span>, <span class="dv">620</span>, <span class="dv">643</span>, <span class="dv">703</span>, <span class="dv">705</span>, <span class="dv">752</span>, <span class="dv">756</span>)</span>
<span id="cb3-124"><a href="liitteet.html#cb3-124"></a></span>
<span id="cb3-125"><a href="liitteet.html#cb3-125"></a><span class="co">#str(ISSP2012jh.data)</span></span>
<span id="cb3-126"><a href="liitteet.html#cb3-126"></a><span class="co">#str(ISSP2012jh.data) #61754 obs. of  420 variables - kaikki</span></span>
<span id="cb3-127"><a href="liitteet.html#cb3-127"></a></span>
<span id="cb3-128"><a href="liitteet.html#cb3-128"></a>ISSP2012jh1a.data &lt;-<span class="st"> </span><span class="kw">filter</span>(ISSP2012jh.data, V4 <span class="op">%in%</span><span class="st"> </span>incl_countries25)</span>
<span id="cb3-129"><a href="liitteet.html#cb3-129"></a></span>
<span id="cb3-130"><a href="liitteet.html#cb3-130"></a><span class="co">#head(ISSP2012jh1a.data)</span></span>
<span id="cb3-131"><a href="liitteet.html#cb3-131"></a><span class="co">#str(ISSP2012jh1a.data) #34271 obs. of  420 variables, Espanja ja Iso-Britannia</span></span>
<span id="cb3-132"><a href="liitteet.html#cb3-132"></a><span class="co">#                       pois (9.10.2018)</span></span>
<span id="cb3-133"><a href="liitteet.html#cb3-133"></a><span class="co"># str(ISSP2012jh1a.data) # 32969 obs. of  420 variable, Espanja Iso-Britannia, </span></span>
<span id="cb3-134"><a href="liitteet.html#cb3-134"></a><span class="co">#                        USA pois (10.10.2018)</span></span>
<span id="cb3-135"><a href="liitteet.html#cb3-135"></a><span class="co">#</span></span>
<span id="cb3-136"><a href="liitteet.html#cb3-136"></a><span class="co"># names() # muuttujen nimet</span></span>
<span id="cb3-137"><a href="liitteet.html#cb3-137"></a><span class="co"># Maakohtaiset muuttujat (kun on poikettu ISSP2012 - vastausvaihtoehdoista tms.) </span></span>
<span id="cb3-138"><a href="liitteet.html#cb3-138"></a><span class="co"># on aineistossa eroteltu maatunnus-etuliitteellä (esimerkiksi ES_V7).</span></span>
<span id="cb3-139"><a href="liitteet.html#cb3-139"></a><span class="co"># Demografisissa ja muissa taustamuuttujissa suuri osa tiedoista on kerätty maa-</span></span>
<span id="cb3-140"><a href="liitteet.html#cb3-140"></a><span class="co"># kohtaisilla lomakkeilla. Vertailukelpoiset muuttujat on konstruoitu niistä.</span></span>
<span id="cb3-141"><a href="liitteet.html#cb3-141"></a><span class="co"># Muuttujia on 420, vain osa yhteisiä kaikille maille.</span></span>
<span id="cb3-142"><a href="liitteet.html#cb3-142"></a></span>
<span id="cb3-143"><a href="liitteet.html#cb3-143"></a><span class="co"># include FALSE: ei koodia eikä tulostusta dokumenttiin - poistettava turhia</span></span>
<span id="cb3-144"><a href="liitteet.html#cb3-144"></a><span class="co"># välitulostuksia (18.10.2020)</span></span>
<span id="cb3-145"><a href="liitteet.html#cb3-145"></a><span class="co"># 2. VALITAAN MUUTTUJAT  -&gt; ISSP2012jh1b.data. Maat valittu koodilohkossa datasel_country1</span></span>
<span id="cb3-146"><a href="liitteet.html#cb3-146"></a><span class="co">#</span></span>
<span id="cb3-147"><a href="liitteet.html#cb3-147"></a><span class="co">#</span></span>
<span id="cb3-148"><a href="liitteet.html#cb3-148"></a><span class="co"># Muuttujat on luokiteltu dokumentissa ZA5900_overview.pdf</span></span>
<span id="cb3-149"><a href="liitteet.html#cb3-149"></a><span class="co"># https://zacat.gesis.org/webview/index.jsp?object=http://zacat.gesis.org/obj/fStudy/ZA5900</span></span>
<span id="cb3-150"><a href="liitteet.html#cb3-150"></a><span class="co"># Study Description -&gt; Other Study Description -&gt; Related Materials</span></span>
<span id="cb3-151"><a href="liitteet.html#cb3-151"></a><span class="co"># </span></span>
<span id="cb3-152"><a href="liitteet.html#cb3-152"></a><span class="co">#</span></span>
<span id="cb3-153"><a href="liitteet.html#cb3-153"></a></span>
<span id="cb3-154"><a href="liitteet.html#cb3-154"></a><span class="co"># METADATA</span></span>
<span id="cb3-155"><a href="liitteet.html#cb3-155"></a></span>
<span id="cb3-156"><a href="liitteet.html#cb3-156"></a>metavars1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;V1&quot;</span>, <span class="st">&quot;V2&quot;</span>, <span class="st">&quot;DOI&quot;</span>)</span>
<span id="cb3-157"><a href="liitteet.html#cb3-157"></a></span>
<span id="cb3-158"><a href="liitteet.html#cb3-158"></a><span class="co">#MAA - maakoodit ja maan kahden merkin tunnus</span></span>
<span id="cb3-159"><a href="liitteet.html#cb3-159"></a></span>
<span id="cb3-160"><a href="liitteet.html#cb3-160"></a>countryvars1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;V3&quot;</span>,<span class="st">&quot;V4&quot;</span>,<span class="st">&quot;C_ALPHAN&quot;</span>)</span>
<span id="cb3-161"><a href="liitteet.html#cb3-161"></a></span>
<span id="cb3-162"><a href="liitteet.html#cb3-162"></a><span class="co"># SUBSTANSSIMUUTTUJAT - Attitudes towards family and gender roles (9)</span></span>
<span id="cb3-163"><a href="liitteet.html#cb3-163"></a><span class="co">#</span></span>
<span id="cb3-164"><a href="liitteet.html#cb3-164"></a><span class="co"># Yhdeksän kysymystä (lyhennetyt versiot, englanniksi), vastausvaihtoehdot Q1-Q2</span></span>
<span id="cb3-165"><a href="liitteet.html#cb3-165"></a><span class="co">#</span></span>
<span id="cb3-166"><a href="liitteet.html#cb3-166"></a><span class="co"># 1 = täysin samaa mieltä, 2 = samaa mieltä, 3 = ei samaa eikä eri mieltä, </span></span>
<span id="cb3-167"><a href="liitteet.html#cb3-167"></a><span class="co"># 4 = eri mieltä, 5 = täysin eri mieltä</span></span>
<span id="cb3-168"><a href="liitteet.html#cb3-168"></a><span class="co"># </span></span>
<span id="cb3-169"><a href="liitteet.html#cb3-169"></a><span class="co"># Q1a Working mother can have warm relation with child</span></span>
<span id="cb3-170"><a href="liitteet.html#cb3-170"></a><span class="co"># Q1b Pre-school child suffers through working mother</span></span>
<span id="cb3-171"><a href="liitteet.html#cb3-171"></a><span class="co"># Q1c Family life suffers through working mother</span></span>
<span id="cb3-172"><a href="liitteet.html#cb3-172"></a><span class="co"># Q1d Women’s preference: home and children</span></span>
<span id="cb3-173"><a href="liitteet.html#cb3-173"></a><span class="co"># Q1e Being housewife is satisfying</span></span>
<span id="cb3-174"><a href="liitteet.html#cb3-174"></a><span class="co">#</span></span>
<span id="cb3-175"><a href="liitteet.html#cb3-175"></a><span class="co"># Q2a Both should contribute to household income</span></span>
<span id="cb3-176"><a href="liitteet.html#cb3-176"></a><span class="co"># Q2b Men’s job is earn money, women’s job household</span></span>
<span id="cb3-177"><a href="liitteet.html#cb3-177"></a><span class="co">#</span></span>
<span id="cb3-178"><a href="liitteet.html#cb3-178"></a><span class="co"># Q3a Should women work: Child under school age </span></span>
<span id="cb3-179"><a href="liitteet.html#cb3-179"></a><span class="co"># Q3b Should women work: Youngest kid at school</span></span>
<span id="cb3-180"><a href="liitteet.html#cb3-180"></a><span class="co"># 1= kokopäivätyö, 2 = osa-aikatyö, 3 = pysyä kotona, 8 = en osaa sanoa (can&#39;t choose), 9 = no answer</span></span>
<span id="cb3-181"><a href="liitteet.html#cb3-181"></a><span class="co">#</span></span>
<span id="cb3-182"><a href="liitteet.html#cb3-182"></a><span class="co"># Kysymysten Q3a ja Q3b eos-vastaus ei ole sama kuin &quot;en samaa enkä eri  mieltä&quot; (ns. neutraali </span></span>
<span id="cb3-183"><a href="liitteet.html#cb3-183"></a><span class="co"># vaihtoehto), mutta kieltäytymisiä jne. (koodi 9) on aika vähän. Kolmessa </span></span>
<span id="cb3-184"><a href="liitteet.html#cb3-184"></a><span class="co"># maassa ne on yhdistety: </span></span>
<span id="cb3-185"><a href="liitteet.html#cb3-185"></a><span class="co"># (8 Can&#39;t choose, CA:can&#39;t choose+no answer, KR:don&#39;t know+refused, NL:don&#39;t know).</span></span>
<span id="cb3-186"><a href="liitteet.html#cb3-186"></a><span class="co"># Kun SPSS-tiedostosta ei ole tuotu puuttuvan tiedon tarkempaa luokittelua,</span></span>
<span id="cb3-187"><a href="liitteet.html#cb3-187"></a><span class="co"># erottelua ei voi tehdä.</span></span>
<span id="cb3-188"><a href="liitteet.html#cb3-188"></a><span class="co">#</span></span>
<span id="cb3-189"><a href="liitteet.html#cb3-189"></a><span class="co"># </span></span>
<span id="cb3-190"><a href="liitteet.html#cb3-190"></a><span class="co">#</span></span>
<span id="cb3-191"><a href="liitteet.html#cb3-191"></a></span>
<span id="cb3-192"><a href="liitteet.html#cb3-192"></a>substvars1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;V5&quot;</span>,<span class="st">&quot;V6&quot;</span>,<span class="st">&quot;V7&quot;</span>,<span class="st">&quot;V8&quot;</span>,<span class="st">&quot;V9&quot;</span>,<span class="st">&quot;V10&quot;</span>,<span class="st">&quot;V11&quot;</span>,<span class="st">&quot;V12&quot;</span>,<span class="st">&quot;V13&quot;</span>) <span class="co"># 9 muuttujaa</span></span>
<span id="cb3-193"><a href="liitteet.html#cb3-193"></a></span>
<span id="cb3-194"><a href="liitteet.html#cb3-194"></a><span class="co"># Nämä yhteiset muuttujat pois (maaspesifien muuttujien lisäksi) :</span></span>
<span id="cb3-195"><a href="liitteet.html#cb3-195"></a><span class="co">#</span></span>
<span id="cb3-196"><a href="liitteet.html#cb3-196"></a><span class="co"># &quot;V14&quot;,&quot;V15&quot;,&quot;V16&quot;,  &quot;V17&quot;,&quot;V18&quot;,&quot;HU_V18&quot;,&quot;V19&quot;,&quot;HU_V19&quot;,&quot;V20&quot;,&quot;HU_V20&quot;,&quot;V21&quot;,</span></span>
<span id="cb3-197"><a href="liitteet.html#cb3-197"></a><span class="co"># &quot;V28&quot;,&quot;V29&quot;,&quot;V30&quot;,&quot;V31&quot;,&quot;V32&quot;,&quot;V33&quot;,# &quot;V34&quot;, &quot;V35&quot;, &quot;V36&quot;, &quot;V37&quot;, &quot;V38&quot;, &quot;V39&quot;,</span></span>
<span id="cb3-198"><a href="liitteet.html#cb3-198"></a><span class="co"># &quot;V40&quot;, &quot;V41&quot;, &quot;V42&quot;, &quot;V43&quot;, &quot;V44&quot;, &quot;V45&quot;, &quot;V46&quot;, &quot;V47&quot;, &quot;V48&quot;, &quot;V49&quot;, &quot;V50&quot;, </span></span>
<span id="cb3-199"><a href="liitteet.html#cb3-199"></a><span class="co"># &quot;V51&quot;, &quot;V52&quot;, &quot;V53&quot;, &quot;V54&quot;, &quot;V55&quot;, &quot;V56&quot;, &quot;V57&quot;, &quot;V58&quot;, &quot;V59&quot;, &quot;V60&quot;, &quot;V61&quot;, </span></span>
<span id="cb3-200"><a href="liitteet.html#cb3-200"></a><span class="co"># &quot;V62&quot;, &quot;V63&quot;, &quot;V64&quot;, &quot;V65&quot;, &quot;V65a&quot;,&quot;V66&quot;, &quot;V67&quot;</span></span>
<span id="cb3-201"><a href="liitteet.html#cb3-201"></a><span class="co">#</span></span>
<span id="cb3-202"><a href="liitteet.html#cb3-202"></a><span class="co">#</span></span>
<span id="cb3-203"><a href="liitteet.html#cb3-203"></a><span class="co"># DEMOGRAFISET JA MUUT TAUSTAMUUTTUJAT (8)</span></span>
<span id="cb3-204"><a href="liitteet.html#cb3-204"></a><span class="co">#</span></span>
<span id="cb3-205"><a href="liitteet.html#cb3-205"></a><span class="co"># AGE, SEX</span></span>
<span id="cb3-206"><a href="liitteet.html#cb3-206"></a><span class="co">#</span></span>
<span id="cb3-207"><a href="liitteet.html#cb3-207"></a><span class="co"># DEGREE - Highest completed degree of education: Categories for international comparison. </span></span>
<span id="cb3-208"><a href="liitteet.html#cb3-208"></a><span class="co"># Slightly re-arranged subset of ISCED-97</span></span>
<span id="cb3-209"><a href="liitteet.html#cb3-209"></a><span class="co">#</span></span>
<span id="cb3-210"><a href="liitteet.html#cb3-210"></a><span class="co"># 0 No formal education</span></span>
<span id="cb3-211"><a href="liitteet.html#cb3-211"></a><span class="co"># 1 Primary school (elementary school)</span></span>
<span id="cb3-212"><a href="liitteet.html#cb3-212"></a><span class="co"># 2 Lower secondary (secondary completed does not allow entry to university: obligatory school)</span></span>
<span id="cb3-213"><a href="liitteet.html#cb3-213"></a><span class="co"># 3 Upper secondary (programs that allow entry to university or programs that allow to entry </span></span>
<span id="cb3-214"><a href="liitteet.html#cb3-214"></a><span class="co">#   other ISCED level 3 programs - designed to prepare students for direct entry into the labour market)</span></span>
<span id="cb3-215"><a href="liitteet.html#cb3-215"></a><span class="co"># 4 Post secondary, non-tertiary (other upper secondary programs toward labour market or technical formation)</span></span>
<span id="cb3-216"><a href="liitteet.html#cb3-216"></a><span class="co"># 5 Lower level tertiary, first stage (also technical schools at a tertiary level)</span></span>
<span id="cb3-217"><a href="liitteet.html#cb3-217"></a><span class="co"># 6 Upper level tertiary (Master, Dr.)</span></span>
<span id="cb3-218"><a href="liitteet.html#cb3-218"></a><span class="co"># 9 No answer, CH: don&#39;t know</span></span>
<span id="cb3-219"><a href="liitteet.html#cb3-219"></a><span class="co"># Yhdistelyt?</span></span>
<span id="cb3-220"><a href="liitteet.html#cb3-220"></a><span class="co">#</span></span>
<span id="cb3-221"><a href="liitteet.html#cb3-221"></a><span class="co"># MAINSTAT - main status: Which of the following best describes your current situation?</span></span>
<span id="cb3-222"><a href="liitteet.html#cb3-222"></a><span class="co">#</span></span>
<span id="cb3-223"><a href="liitteet.html#cb3-223"></a><span class="co"># 1 In paid work</span></span>
<span id="cb3-224"><a href="liitteet.html#cb3-224"></a><span class="co"># 2 Unemployed and looking for a job, HR: incl never had a job</span></span>
<span id="cb3-225"><a href="liitteet.html#cb3-225"></a><span class="co"># 3 In education</span></span>
<span id="cb3-226"><a href="liitteet.html#cb3-226"></a><span class="co"># 4 Apprentice or trainee</span></span>
<span id="cb3-227"><a href="liitteet.html#cb3-227"></a><span class="co"># 5 Permanently sick or disabled</span></span>
<span id="cb3-228"><a href="liitteet.html#cb3-228"></a><span class="co"># 6 Retired</span></span>
<span id="cb3-229"><a href="liitteet.html#cb3-229"></a><span class="co"># 7 Domestic work</span></span>
<span id="cb3-230"><a href="liitteet.html#cb3-230"></a><span class="co"># 8 In compulsory military service or community service</span></span>
<span id="cb3-231"><a href="liitteet.html#cb3-231"></a><span class="co"># 9 Other</span></span>
<span id="cb3-232"><a href="liitteet.html#cb3-232"></a><span class="co"># 99 No answer</span></span>
<span id="cb3-233"><a href="liitteet.html#cb3-233"></a><span class="co"># Armeijassa tai yhdyskuntapalvelussa muutamia, muutamissa maissa.Kategoriassa 9 </span></span>
<span id="cb3-234"><a href="liitteet.html#cb3-234"></a><span class="co"># on hieman väkeä. Yhdistetään 8 ja 9. Huom! Esim Puolassa ei yhtään eläkeläistä</span></span>
<span id="cb3-235"><a href="liitteet.html#cb3-235"></a><span class="co"># eikä kategoriaa 9, Saksassa ei ketään kategoriassa 9.</span></span>
<span id="cb3-236"><a href="liitteet.html#cb3-236"></a><span class="co">#</span></span>
<span id="cb3-237"><a href="liitteet.html#cb3-237"></a><span class="co"># TOPBOT - Top-Bottom self-placement (10 pt scale)</span></span>
<span id="cb3-238"><a href="liitteet.html#cb3-238"></a><span class="co">#</span></span>
<span id="cb3-239"><a href="liitteet.html#cb3-239"></a><span class="co"># &quot;In our society, there are groups which tend to be towards the top and groups </span></span>
<span id="cb3-240"><a href="liitteet.html#cb3-240"></a><span class="co"># which tend to be towards the bottom. Below is a scale that runs</span></span>
<span id="cb3-241"><a href="liitteet.html#cb3-241"></a><span class="co"># from the top to the bottom. Where would you put yourself on this scale?&quot;</span></span>
<span id="cb3-242"><a href="liitteet.html#cb3-242"></a><span class="co"># Eri maissa hieman erilaisia kysymyksiä. </span></span>
<span id="cb3-243"><a href="liitteet.html#cb3-243"></a><span class="co">#</span></span>
<span id="cb3-244"><a href="liitteet.html#cb3-244"></a><span class="co"># HHCHILDR - How many children in household: children between [school age] and</span></span>
<span id="cb3-245"><a href="liitteet.html#cb3-245"></a><span class="co"># 17 years of age</span></span>
<span id="cb3-246"><a href="liitteet.html#cb3-246"></a><span class="co">#</span></span>
<span id="cb3-247"><a href="liitteet.html#cb3-247"></a><span class="co"># 0 No children</span></span>
<span id="cb3-248"><a href="liitteet.html#cb3-248"></a><span class="co"># 1 One child</span></span>
<span id="cb3-249"><a href="liitteet.html#cb3-249"></a><span class="co"># 2 2 children</span></span>
<span id="cb3-250"><a href="liitteet.html#cb3-250"></a><span class="co"># 21 21 children</span></span>
<span id="cb3-251"><a href="liitteet.html#cb3-251"></a><span class="co"># 96 NAP (Code 0 in HOMPOP)</span></span>
<span id="cb3-252"><a href="liitteet.html#cb3-252"></a><span class="co"># 97 Refused</span></span>
<span id="cb3-253"><a href="liitteet.html#cb3-253"></a><span class="co"># 99 No answer</span></span>
<span id="cb3-254"><a href="liitteet.html#cb3-254"></a><span class="co">#</span></span>
<span id="cb3-255"><a href="liitteet.html#cb3-255"></a><span class="co"># Voisi koodata dummymuuttujaksi lapsia (1) - ei lapsia (0).</span></span>
<span id="cb3-256"><a href="liitteet.html#cb3-256"></a><span class="co"># Ranskan datassa on erittäin iso osa puuttuvia tietoja ( &quot;99&quot;&quot;, n. 20 %), myös </span></span>
<span id="cb3-257"><a href="liitteet.html#cb3-257"></a><span class="co"># Austarlialla aika paljon. Sama tilanne myös muissa perheen kokoon liittyvissä </span></span>
<span id="cb3-258"><a href="liitteet.html#cb3-258"></a><span class="co"># kysymyksissä.</span></span>
<span id="cb3-259"><a href="liitteet.html#cb3-259"></a><span class="co">#</span></span>
<span id="cb3-260"><a href="liitteet.html#cb3-260"></a><span class="co"># MARITAL - Legal partnership status </span></span>
<span id="cb3-261"><a href="liitteet.html#cb3-261"></a><span class="co">#</span></span>
<span id="cb3-262"><a href="liitteet.html#cb3-262"></a><span class="co"># What is your current legal marital status?</span></span>
<span id="cb3-263"><a href="liitteet.html#cb3-263"></a><span class="co"># The aim of this variable is to measure the current &#39;legal&#39; marital status &#39;. </span></span>
<span id="cb3-264"><a href="liitteet.html#cb3-264"></a><span class="co"># PARTLIV - muuttujassa on &#39;de facto&#39; - tilanteen tieto parisuhteesta</span></span>
<span id="cb3-265"><a href="liitteet.html#cb3-265"></a><span class="co">#</span></span>
<span id="cb3-266"><a href="liitteet.html#cb3-266"></a><span class="co"># 1 Married</span></span>
<span id="cb3-267"><a href="liitteet.html#cb3-267"></a><span class="co"># 2 Civil partnership</span></span>
<span id="cb3-268"><a href="liitteet.html#cb3-268"></a><span class="co"># 3 Separated from spouse/ civil partner (still legally married/ still legally </span></span>
<span id="cb3-269"><a href="liitteet.html#cb3-269"></a><span class="co">#   in a civil partnership)</span></span>
<span id="cb3-270"><a href="liitteet.html#cb3-270"></a><span class="co"># 4 Divorced from spouse/ legally separated from civil partner</span></span>
<span id="cb3-271"><a href="liitteet.html#cb3-271"></a><span class="co"># 5 Widowed/ civil partner died</span></span>
<span id="cb3-272"><a href="liitteet.html#cb3-272"></a><span class="co"># 6 Never married/ never in a civil partnership, single</span></span>
<span id="cb3-273"><a href="liitteet.html#cb3-273"></a><span class="co"># 7 Refused</span></span>
<span id="cb3-274"><a href="liitteet.html#cb3-274"></a><span class="co"># 8 Don&#39;t know</span></span>
<span id="cb3-275"><a href="liitteet.html#cb3-275"></a><span class="co"># 9 No answer</span></span>
<span id="cb3-276"><a href="liitteet.html#cb3-276"></a><span class="co">#</span></span>
<span id="cb3-277"><a href="liitteet.html#cb3-277"></a><span class="co"># URBRURAL - Place of living: urban - rural</span></span>
<span id="cb3-278"><a href="liitteet.html#cb3-278"></a><span class="co">#</span></span>
<span id="cb3-279"><a href="liitteet.html#cb3-279"></a><span class="co"># 1 A big city</span></span>
<span id="cb3-280"><a href="liitteet.html#cb3-280"></a><span class="co"># 2 The suburbs or outskirts of a big city</span></span>
<span id="cb3-281"><a href="liitteet.html#cb3-281"></a><span class="co"># 3 A town or a small city</span></span>
<span id="cb3-282"><a href="liitteet.html#cb3-282"></a><span class="co"># 4 A country village</span></span>
<span id="cb3-283"><a href="liitteet.html#cb3-283"></a><span class="co"># 5 A farm or home in the country</span></span>
<span id="cb3-284"><a href="liitteet.html#cb3-284"></a><span class="co"># 7 Other answer</span></span>
<span id="cb3-285"><a href="liitteet.html#cb3-285"></a><span class="co"># 9 No answer</span></span>
<span id="cb3-286"><a href="liitteet.html#cb3-286"></a><span class="co"># 1 ja 2 vaihtelevat aika paljon maittain, parempi laskea yhteen. Unkarista puuttuu </span></span>
<span id="cb3-287"><a href="liitteet.html#cb3-287"></a><span class="co"># jostain syystä kokonaan vaihtoehto 5.  Vaihotehdon 7 on valinnut vain 4 vastaajaa Ranskasta.</span></span>
<span id="cb3-288"><a href="liitteet.html#cb3-288"></a><span class="co"># Yhdistetään 1 ja 2 = city, 3 = town, rural= 4, 5, 7</span></span>
<span id="cb3-289"><a href="liitteet.html#cb3-289"></a><span class="co">#</span></span>
<span id="cb3-290"><a href="liitteet.html#cb3-290"></a></span>
<span id="cb3-291"><a href="liitteet.html#cb3-291"></a>bgvars1 &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;SEX&quot;</span>,<span class="st">&quot;AGE&quot;</span>,<span class="st">&quot;DEGREE&quot;</span>, <span class="st">&quot;MAINSTAT&quot;</span>, <span class="st">&quot;TOPBOT&quot;</span>, <span class="st">&quot;HHCHILDR&quot;</span>, <span class="st">&quot;MARITAL&quot;</span>, <span class="st">&quot;URBRURAL&quot;</span>)</span>
<span id="cb3-292"><a href="liitteet.html#cb3-292"></a></span>
<span id="cb3-293"><a href="liitteet.html#cb3-293"></a><span class="co">#Valitaan muuttujat</span></span>
<span id="cb3-294"><a href="liitteet.html#cb3-294"></a></span>
<span id="cb3-295"><a href="liitteet.html#cb3-295"></a>jhvars1 &lt;-<span class="st"> </span><span class="kw">c</span>(metavars1,countryvars1, substvars1,bgvars1)</span>
<span id="cb3-296"><a href="liitteet.html#cb3-296"></a></span>
<span id="cb3-297"><a href="liitteet.html#cb3-297"></a><span class="co">#jhvars1</span></span>
<span id="cb3-298"><a href="liitteet.html#cb3-298"></a>ISSP2012jh1b.data &lt;-<span class="st"> </span><span class="kw">select</span>(ISSP2012jh1a.data, <span class="kw">all_of</span>(jhvars1)) </span>
<span id="cb3-299"><a href="liitteet.html#cb3-299"></a></span>
<span id="cb3-300"><a href="liitteet.html#cb3-300"></a><span class="co"># laaja aineisto - mukana havainnot joissa puuttuvia tietoja</span></span>
<span id="cb3-301"><a href="liitteet.html#cb3-301"></a><span class="co"># hauska detalji URBRURAL - muuttujan metatiedoissa viite jonkun työaseman hakemistoon</span></span>
<span id="cb3-302"><a href="liitteet.html#cb3-302"></a><span class="co"># str(ISSP2012jh1b.data) #32969 obs. of  23 variables </span></span>
<span id="cb3-303"><a href="liitteet.html#cb3-303"></a><span class="co"># </span></span>
<span id="cb3-304"><a href="liitteet.html#cb3-304"></a><span class="co"># SUBSTANSSIMUUTTUJAT</span></span>
<span id="cb3-305"><a href="liitteet.html#cb3-305"></a><span class="co">#</span></span>
<span id="cb3-306"><a href="liitteet.html#cb3-306"></a><span class="co"># $ V5      : &#39;haven_labelled&#39; num  5 1 2 2 1 NA 2 4 2 2 ...</span></span>
<span id="cb3-307"><a href="liitteet.html#cb3-307"></a><span class="co">#  ..- attr(*, &quot;label&quot;)= chr &quot;Q1a Working mom: warm relationship with children as a not working mom&quot;</span></span>
<span id="cb3-308"><a href="liitteet.html#cb3-308"></a><span class="co">#  ..- attr(*, &quot;labels&quot;)= Named num  0 1 2 3 4 5 8 9</span></span>
<span id="cb3-309"><a href="liitteet.html#cb3-309"></a><span class="co">#</span></span>
<span id="cb3-310"><a href="liitteet.html#cb3-310"></a><span class="co"># ISSP2012jh1b.data$V5 näyttää tarkemmin rakenteen</span></span>
<span id="cb3-311"><a href="liitteet.html#cb3-311"></a><span class="co">#</span></span>
<span id="cb3-312"><a href="liitteet.html#cb3-312"></a><span class="co"># glimpse(ISSP2012jh1b.data)</span></span>
<span id="cb3-313"><a href="liitteet.html#cb3-313"></a><span class="co"># str(ISSP2012jh1b.data) # 32969 obs. of  23 variables</span></span>
<span id="cb3-314"><a href="liitteet.html#cb3-314"></a></span>
<span id="cb3-315"><a href="liitteet.html#cb3-315"></a><span class="co"># Poistetaan havainnot, joissa ikä (AGE) tai sukupuolitieto puuttuu (5.7.2019)</span></span>
<span id="cb3-316"><a href="liitteet.html#cb3-316"></a></span>
<span id="cb3-317"><a href="liitteet.html#cb3-317"></a>ISSP2012jh1c.data &lt;-<span class="st"> </span><span class="kw">filter</span>(ISSP2012jh1b.data, (<span class="op">!</span><span class="kw">is.na</span>(SEX) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(AGE)))</span>
<span id="cb3-318"><a href="liitteet.html#cb3-318"></a></span>
<span id="cb3-319"><a href="liitteet.html#cb3-319"></a><span class="kw">str</span>(ISSP2012jh1c.data) <span class="co"># 32823 obs. of  23 variables, 32969-32823 = 146</span></span>
<span id="cb3-320"><a href="liitteet.html#cb3-320"></a><span class="co"># TARKISTUS 8.6.20 dplyr 1.0.0-päivitys: havaintojen ja muuttujien määrä ok.</span></span>
<span id="cb3-321"><a href="liitteet.html#cb3-321"></a></span>
<span id="cb3-322"><a href="liitteet.html#cb3-322"></a><span class="co"># VAIHE 1 - muuttujat joissa ei ole puuttuvia tietoja</span></span>
<span id="cb3-323"><a href="liitteet.html#cb3-323"></a></span>
<span id="cb3-324"><a href="liitteet.html#cb3-324"></a><span class="co"># vaihe 1.1 haven_labelled ja chr -&gt; as_factor</span></span>
<span id="cb3-325"><a href="liitteet.html#cb3-325"></a></span>
<span id="cb3-326"><a href="liitteet.html#cb3-326"></a>ISSP2012jh1d.dat &lt;-<span class="st"> </span>ISSP2012jh1c.data <span class="op">%&gt;%</span></span>
<span id="cb3-327"><a href="liitteet.html#cb3-327"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">maa =</span> <span class="kw">as_factor</span>(C_ALPHAN), <span class="co"># ei puuttuvia, ei tyhjiä leveleitä</span></span>
<span id="cb3-328"><a href="liitteet.html#cb3-328"></a>           <span class="dt">maa3 =</span> <span class="kw">as_factor</span>(V3),  <span class="co"># maakoodi, jossa aluejako joillan mailla</span></span>
<span id="cb3-329"><a href="liitteet.html#cb3-329"></a>           <span class="dt">sp1 =</span> <span class="kw">as_factor</span>(SEX), <span class="co"># ei puuttuvia, tyhjä level &quot;no answer&quot; 999</span></span>
<span id="cb3-330"><a href="liitteet.html#cb3-330"></a>         )</span>
<span id="cb3-331"><a href="liitteet.html#cb3-331"></a></span>
<span id="cb3-332"><a href="liitteet.html#cb3-332"></a></span>
<span id="cb3-333"><a href="liitteet.html#cb3-333"></a><span class="co"># C_ALPHAN - maa - maa3 tarkistuksia</span></span>
<span id="cb3-334"><a href="liitteet.html#cb3-334"></a></span>
<span id="cb3-335"><a href="liitteet.html#cb3-335"></a><span class="co"># V3</span></span>
<span id="cb3-336"><a href="liitteet.html#cb3-336"></a><span class="co"># &quot;Pulma&quot; on järjestys. C_ALPHAN (&quot;chr&quot;) on aakkosjärjestyksessä, kun luodaan</span></span>
<span id="cb3-337"><a href="liitteet.html#cb3-337"></a><span class="co"># maa = as_factor(C_ALPHAN) järjestys muuttuu (esiintymisjärjestys datassa?)</span></span>
<span id="cb3-338"><a href="liitteet.html#cb3-338"></a><span class="co"># maa3 muunnetaan maakoodista (haven_labelled&#39; num), jonka</span></span>
<span id="cb3-339"><a href="liitteet.html#cb3-339"></a></span>
<span id="cb3-340"><a href="liitteet.html#cb3-340"></a><span class="co"># str(ISSP2012jh1d.dat$maa) #Country Prefix ISO 3166 Code - alphanumeric</span></span>
<span id="cb3-341"><a href="liitteet.html#cb3-341"></a><span class="co"># attributes(ISSP2012jh1d.dat$maa) # ei tyhiä levels-arvoja, 25 levels</span></span>
<span id="cb3-342"><a href="liitteet.html#cb3-342"></a><span class="co"># ISSP2012jh1d.dat$maa %&gt;% fct_unique()</span></span>
<span id="cb3-343"><a href="liitteet.html#cb3-343"></a><span class="co"># ISSP2012jh1d.dat$maa %&gt;% fct_count() # summary kertoo samat tiedot (20.2.20)</span></span>
<span id="cb3-344"><a href="liitteet.html#cb3-344"></a><span class="co"># sum(is.na(ISSP2012jh1d.dat$maa)) # ei puuttuvia tietoja</span></span>
<span id="cb3-345"><a href="liitteet.html#cb3-345"></a><span class="co"># ISSP2012jh1d.dat$maa %&gt;% summary() # mukana vain valitut 25 maata</span></span>
<span id="cb3-346"><a href="liitteet.html#cb3-346"></a></span>
<span id="cb3-347"><a href="liitteet.html#cb3-347"></a><span class="co"># str(ISSP2012jh1d.dat$maa3)  #&quot;Country/ Sample ISO 3166 Code</span></span>
<span id="cb3-348"><a href="liitteet.html#cb3-348"></a>                            <span class="co">#(see V4 for codes for whole nation states)&quot;</span></span>
<span id="cb3-349"><a href="liitteet.html#cb3-349"></a>                            <span class="co"># 29 levels</span></span>
<span id="cb3-350"><a href="liitteet.html#cb3-350"></a><span class="co"># str(ISSP2012jh1d.dat$V3)</span></span>
<span id="cb3-351"><a href="liitteet.html#cb3-351"></a></span>
<span id="cb3-352"><a href="liitteet.html#cb3-352"></a><span class="co"># attributes(ISSP2012jh1d.dat$maa3) # ei tyhiä levels-arvoja, 29 levels</span></span>
<span id="cb3-353"><a href="liitteet.html#cb3-353"></a><span class="co"># sum(is.na(ISSP2012jh1d.dat$maa3)) # nolla ei ole puuttuva tieto! (3.2.20)</span></span>
<span id="cb3-354"><a href="liitteet.html#cb3-354"></a><span class="co"># ISSP2012jh1d.dat$maa3 %&gt;% fct_unique()</span></span>
<span id="cb3-355"><a href="liitteet.html#cb3-355"></a><span class="co"># ISSP2012jh1d.dat$maa3 %&gt;% fct_count()</span></span>
<span id="cb3-356"><a href="liitteet.html#cb3-356"></a><span class="co"># Vain näissä on jaettu maan havainnot (3.2.20)</span></span>
<span id="cb3-357"><a href="liitteet.html#cb3-357"></a><span class="co">#</span></span>
<span id="cb3-358"><a href="liitteet.html#cb3-358"></a><span class="co"># [38] BE-FLA-Belgium/ Flanders</span></span>
<span id="cb3-359"><a href="liitteet.html#cb3-359"></a><span class="co"># [39] BE-WAL-Belgium/ Wallonia</span></span>
<span id="cb3-360"><a href="liitteet.html#cb3-360"></a><span class="co"># [40] BE-BRU-Belgium/ Brussels</span></span>
<span id="cb3-361"><a href="liitteet.html#cb3-361"></a><span class="co"># [41] DE-W-Germany-West</span></span>
<span id="cb3-362"><a href="liitteet.html#cb3-362"></a><span class="co"># [42] DE-E-Germany-East</span></span>
<span id="cb3-363"><a href="liitteet.html#cb3-363"></a><span class="co"># [43] PT-Portugal 2012: first fieldwork round (main sample)</span></span>
<span id="cb3-364"><a href="liitteet.html#cb3-364"></a><span class="co"># [44] PT-Portugal 2012: second fieldwork round (complementary sample)</span></span>
<span id="cb3-365"><a href="liitteet.html#cb3-365"></a></span>
<span id="cb3-366"><a href="liitteet.html#cb3-366"></a><span class="co"># ISSP2012jh1d.dat$maa3 %&gt;% fct_count() #miksi ei tulosta mitään? (3.2.2020)</span></span>
<span id="cb3-367"><a href="liitteet.html#cb3-367"></a></span>
<span id="cb3-368"><a href="liitteet.html#cb3-368"></a><span class="co"># ISSP2012jh1d.dat$maa3 %&gt;% summary()</span></span>
<span id="cb3-369"><a href="liitteet.html#cb3-369"></a><span class="co"># ISSP2012jh1d.dat$maa3 %&gt;% fct_unique()</span></span>
<span id="cb3-370"><a href="liitteet.html#cb3-370"></a><span class="co"># maa3: 25 maata, havaintojen määrä. Poisjätetyissä havaintoja 0.</span></span>
<span id="cb3-371"><a href="liitteet.html#cb3-371"></a><span class="co"># glimpse(ISSP2012jh1d.dat$maa3)</span></span>
<span id="cb3-372"><a href="liitteet.html#cb3-372"></a><span class="co"># head(ISSP2012jh1d.dat$maa3)</span></span>
<span id="cb3-373"><a href="liitteet.html#cb3-373"></a><span class="co"># length(levels(ISSP2012jh1d.dat$maa3))</span></span>
<span id="cb3-374"><a href="liitteet.html#cb3-374"></a></span>
<span id="cb3-375"><a href="liitteet.html#cb3-375"></a><span class="co"># C_ALPHAN alkuperäinen järjestys, maa aakkosjärjestyssä  (2.2.20)</span></span>
<span id="cb3-376"><a href="liitteet.html#cb3-376"></a><span class="co">#</span></span>
<span id="cb3-377"><a href="liitteet.html#cb3-377"></a><span class="co"># Huom1: Myös merkkijonomuuttujaa C_ALPHAN tarvitaan jatkossa.</span></span>
<span id="cb3-378"><a href="liitteet.html#cb3-378"></a><span class="co">#</span></span>
<span id="cb3-379"><a href="liitteet.html#cb3-379"></a><span class="co"># Huom2: kun dataa rajataan, on tarkistettava ja tarvittaessa poistettava</span></span>
<span id="cb3-380"><a href="liitteet.html#cb3-380"></a><span class="co"># &quot;tyhjät&quot; R-factor - muuttujan &quot;maa&quot; luokat (3.2.2020)</span></span>
<span id="cb3-381"><a href="liitteet.html#cb3-381"></a></span>
<span id="cb3-382"><a href="liitteet.html#cb3-382"></a></span>
<span id="cb3-383"><a href="liitteet.html#cb3-383"></a><span class="co"># vaihe 1.2 tyhjät luokat (levels) pois faktoreista</span></span>
<span id="cb3-384"><a href="liitteet.html#cb3-384"></a></span>
<span id="cb3-385"><a href="liitteet.html#cb3-385"></a>ISSP2012jh1d.dat &lt;-<span class="st"> </span>ISSP2012jh1d.dat <span class="op">%&gt;%</span></span>
<span id="cb3-386"><a href="liitteet.html#cb3-386"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">sp =</span> <span class="kw">fct_drop</span>(sp1),</span>
<span id="cb3-387"><a href="liitteet.html#cb3-387"></a>           <span class="dt">maa3 =</span> <span class="kw">fct_drop</span>(maa3)</span>
<span id="cb3-388"><a href="liitteet.html#cb3-388"></a>           )</span>
<span id="cb3-389"><a href="liitteet.html#cb3-389"></a></span>
<span id="cb3-390"><a href="liitteet.html#cb3-390"></a><span class="co">#  maa3 - tarkistuksia</span></span>
<span id="cb3-391"><a href="liitteet.html#cb3-391"></a></span>
<span id="cb3-392"><a href="liitteet.html#cb3-392"></a><span class="co"># str(ISSP2012jh1d.dat$maa3)  # 29 levels</span></span>
<span id="cb3-393"><a href="liitteet.html#cb3-393"></a><span class="co"># attributes(ISSP2012jh1d.dat$maa3)</span></span>
<span id="cb3-394"><a href="liitteet.html#cb3-394"></a><span class="co">#sum(is.na(ISSP2012jh1d.dat$maa3)) # nolla ei ole puuttuva tieto! (3.2.20)</span></span>
<span id="cb3-395"><a href="liitteet.html#cb3-395"></a><span class="co"># ISSP2012jh1d.dat$maa3 %&gt;% summary()</span></span>
<span id="cb3-396"><a href="liitteet.html#cb3-396"></a><span class="co"># ISSP2012jh1d.dat$maa3 %&gt;% fct_unique()</span></span>
<span id="cb3-397"><a href="liitteet.html#cb3-397"></a><span class="co"># ISSP2012jh1d.dat$maa3 %&gt;% fct_count()</span></span>
<span id="cb3-398"><a href="liitteet.html#cb3-398"></a><span class="co">#</span></span>
<span id="cb3-399"><a href="liitteet.html#cb3-399"></a><span class="co"># str(ISSP2012jh1d.dat$C_ALPHAN)</span></span>
<span id="cb3-400"><a href="liitteet.html#cb3-400"></a><span class="co"># attributes(ISSP2012jh1d.dat$C_ALPHAN)</span></span>
<span id="cb3-401"><a href="liitteet.html#cb3-401"></a></span>
<span id="cb3-402"><a href="liitteet.html#cb3-402"></a><span class="co"># TESTAUKSIA</span></span>
<span id="cb3-403"><a href="liitteet.html#cb3-403"></a><span class="co"># </span></span>
<span id="cb3-404"><a href="liitteet.html#cb3-404"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(C_ALPHAN, maa)</span></span>
<span id="cb3-405"><a href="liitteet.html#cb3-405"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(C_ALPHAN, maa3)</span></span>
<span id="cb3-406"><a href="liitteet.html#cb3-406"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(maa, maa3)</span></span>
<span id="cb3-407"><a href="liitteet.html#cb3-407"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(V3, maa3)</span></span>
<span id="cb3-408"><a href="liitteet.html#cb3-408"></a></span>
<span id="cb3-409"><a href="liitteet.html#cb3-409"></a><span class="co"># sp, sp1, SEX - tarkistuksia</span></span>
<span id="cb3-410"><a href="liitteet.html#cb3-410"></a><span class="co"># </span></span>
<span id="cb3-411"><a href="liitteet.html#cb3-411"></a><span class="co"># ISSP2012jh1d.dat$sp %&gt;% fct_count()</span></span>
<span id="cb3-412"><a href="liitteet.html#cb3-412"></a><span class="co"># ISSP2012jh1d.dat$sp %&gt;% fct_count()</span></span>
<span id="cb3-413"><a href="liitteet.html#cb3-413"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(SEX,sp1)</span></span>
<span id="cb3-414"><a href="liitteet.html#cb3-414"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(SEX,sp)</span></span>
<span id="cb3-415"><a href="liitteet.html#cb3-415"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(sp1,sp)</span></span>
<span id="cb3-416"><a href="liitteet.html#cb3-416"></a></span>
<span id="cb3-417"><a href="liitteet.html#cb3-417"></a><span class="co"># vaihe 1.3 uudet &quot;faktorilabelit&quot;</span></span>
<span id="cb3-418"><a href="liitteet.html#cb3-418"></a>ISSP2012jh1d.dat &lt;-<span class="st"> </span>ISSP2012jh1d.dat <span class="op">%&gt;%</span></span>
<span id="cb3-419"><a href="liitteet.html#cb3-419"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">sp =</span></span>
<span id="cb3-420"><a href="liitteet.html#cb3-420"></a>          <span class="kw">fct_recode</span>(sp,</span>
<span id="cb3-421"><a href="liitteet.html#cb3-421"></a>            <span class="st">&quot;m&quot;</span> =<span class="st"> &quot;Male&quot;</span>,</span>
<span id="cb3-422"><a href="liitteet.html#cb3-422"></a>            <span class="st">&quot;f&quot;</span> =<span class="st"> &quot;Female&quot;</span>)</span>
<span id="cb3-423"><a href="liitteet.html#cb3-423"></a>            )</span>
<span id="cb3-424"><a href="liitteet.html#cb3-424"></a></span>
<span id="cb3-425"><a href="liitteet.html#cb3-425"></a><span class="co"># Tarkistuksia</span></span>
<span id="cb3-426"><a href="liitteet.html#cb3-426"></a></span>
<span id="cb3-427"><a href="liitteet.html#cb3-427"></a><span class="co"># ISSP2012jh1d.dat$sp %&gt;% fct_unique()</span></span>
<span id="cb3-428"><a href="liitteet.html#cb3-428"></a><span class="co"># ISSP2012jh1d.dat$sp %&gt;% fct_count()</span></span>
<span id="cb3-429"><a href="liitteet.html#cb3-429"></a><span class="co"># ISSP2012jh1d.dat$sp %&gt;% summary()</span></span>
<span id="cb3-430"><a href="liitteet.html#cb3-430"></a></span>
<span id="cb3-431"><a href="liitteet.html#cb3-431"></a><span class="co"># AGE -&gt; ika</span></span>
<span id="cb3-432"><a href="liitteet.html#cb3-432"></a>ISSP2012jh1d.dat<span class="op">$</span>ika &lt;-<span class="st"> </span>ISSP2012jh1d.dat<span class="op">$</span>AGE</span>
<span id="cb3-433"><a href="liitteet.html#cb3-433"></a></span>
<span id="cb3-434"><a href="liitteet.html#cb3-434"></a><span class="co"># Tarkistuksia</span></span>
<span id="cb3-435"><a href="liitteet.html#cb3-435"></a><span class="kw">attributes</span>(ISSP2012jh1d.dat<span class="op">$</span>ika) <span class="co"># tyhjä level &quot;No answer&quot;</span></span>
<span id="cb3-436"><a href="liitteet.html#cb3-436"></a><span class="co"># str(ISSP2012jh1d.dat$ika)</span></span>
<span id="cb3-437"><a href="liitteet.html#cb3-437"></a>ISSP2012jh1d.dat<span class="op">$</span>ika <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summary</span>()</span>
<span id="cb3-438"><a href="liitteet.html#cb3-438"></a></span>
<span id="cb3-439"><a href="liitteet.html#cb3-439"></a>ISSP2012jh1d.dat <span class="op">%&gt;%</span></span>
<span id="cb3-440"><a href="liitteet.html#cb3-440"></a><span class="kw">tableC</span>(AGE, ika,<span class="dt">cor_type =</span> <span class="st">&quot;pearson&quot;</span>, <span class="dt">na.rm =</span> <span class="ot">FALSE</span>, <span class="dt">rounding =</span> <span class="dv">5</span>,</span>
<span id="cb3-441"><a href="liitteet.html#cb3-441"></a>       <span class="dt">output =</span> <span class="st">&quot;text&quot;</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, <span class="dt">caption =</span> <span class="ot">NULL</span>, <span class="dt">align =</span> <span class="ot">NULL</span>,</span>
<span id="cb3-442"><a href="liitteet.html#cb3-442"></a>       <span class="dt">float =</span> <span class="st">&quot;htb&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable</span>()</span>
<span id="cb3-443"><a href="liitteet.html#cb3-443"></a></span>
<span id="cb3-444"><a href="liitteet.html#cb3-444"></a><span class="co"># Ikäjakauma - ei tarvita (18.10.2020)</span></span>
<span id="cb3-445"><a href="liitteet.html#cb3-445"></a><span class="co">#</span></span>
<span id="cb3-446"><a href="liitteet.html#cb3-446"></a><span class="co"># ISSP2012jh1d.dat$ika %&gt;% hist(main = &quot;ISSP 2012: vastaajan ikä&quot;)</span></span>
<span id="cb3-447"><a href="liitteet.html#cb3-447"></a></span>
<span id="cb3-448"><a href="liitteet.html#cb3-448"></a><span class="co"># Substanssi- ja taustamuuttujat R-faktoreiksi</span></span>
<span id="cb3-449"><a href="liitteet.html#cb3-449"></a>ISSP2012jh1d.dat &lt;-<span class="st"> </span>ISSP2012jh1d.dat <span class="op">%&gt;%</span></span>
<span id="cb3-450"><a href="liitteet.html#cb3-450"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Q1a1 =</span> <span class="kw">as_factor</span>(V5), <span class="co">#labels</span></span>
<span id="cb3-451"><a href="liitteet.html#cb3-451"></a>            <span class="dt">Q1b1 =</span> <span class="kw">as_factor</span>(V6),</span>
<span id="cb3-452"><a href="liitteet.html#cb3-452"></a>            <span class="dt">Q1c1 =</span> <span class="kw">as_factor</span>(V7),</span>
<span id="cb3-453"><a href="liitteet.html#cb3-453"></a>            <span class="dt">Q1d1 =</span> <span class="kw">as_factor</span>(V8),</span>
<span id="cb3-454"><a href="liitteet.html#cb3-454"></a>            <span class="dt">Q1e1 =</span> <span class="kw">as_factor</span>(V9),</span>
<span id="cb3-455"><a href="liitteet.html#cb3-455"></a>            <span class="dt">Q2a1 =</span> <span class="kw">as_factor</span>(V10),</span>
<span id="cb3-456"><a href="liitteet.html#cb3-456"></a>            <span class="dt">Q2b1 =</span> <span class="kw">as_factor</span>(V11),</span>
<span id="cb3-457"><a href="liitteet.html#cb3-457"></a>            <span class="dt">Q3a1 =</span> <span class="kw">as_factor</span>(V12), <span class="co">#labels = vastQ3_labels (W,w,H)</span></span>
<span id="cb3-458"><a href="liitteet.html#cb3-458"></a>            <span class="dt">Q3b1 =</span> <span class="kw">as_factor</span>(V13), <span class="co">#labels = vastQ3_labels</span></span>
<span id="cb3-459"><a href="liitteet.html#cb3-459"></a>            <span class="dt">edu1 =</span> <span class="kw">as_factor</span>(DEGREE),</span>
<span id="cb3-460"><a href="liitteet.html#cb3-460"></a>            <span class="dt">msta1 =</span> <span class="kw">as_factor</span>(MAINSTAT),</span>
<span id="cb3-461"><a href="liitteet.html#cb3-461"></a>            <span class="dt">sosta1 =</span> <span class="kw">as_factor</span>(TOPBOT),</span>
<span id="cb3-462"><a href="liitteet.html#cb3-462"></a>            <span class="dt">nchild1 =</span> <span class="kw">as_factor</span>(HHCHILDR),</span>
<span id="cb3-463"><a href="liitteet.html#cb3-463"></a>            <span class="dt">lifsta1 =</span> <span class="kw">as_factor</span>(MARITAL),</span>
<span id="cb3-464"><a href="liitteet.html#cb3-464"></a>            <span class="dt">urbru1 =</span> <span class="kw">as_factor</span>(URBRURAL)</span>
<span id="cb3-465"><a href="liitteet.html#cb3-465"></a>           )</span>
<span id="cb3-466"><a href="liitteet.html#cb3-466"></a></span>
<span id="cb3-467"><a href="liitteet.html#cb3-467"></a><span class="co"># Muuttujat Q1a1...urbru1 ovat apumuuttujia, joissa on periaatteessa kaikki SPSS-</span></span>
<span id="cb3-468"><a href="liitteet.html#cb3-468"></a><span class="co"># tiedostosta siirtyvä metatieto. Poikkeus on SPSS:n kolme tarkentavaa koodia</span></span>
<span id="cb3-469"><a href="liitteet.html#cb3-469"></a><span class="co"># puuttuvalle tiedolle, ne saisi mukaan read_spss - parametrin avulla (user_na=TRUE)</span></span>
<span id="cb3-470"><a href="liitteet.html#cb3-470"></a><span class="co">#</span></span>
<span id="cb3-471"><a href="liitteet.html#cb3-471"></a></span>
<span id="cb3-472"><a href="liitteet.html#cb3-472"></a><span class="co"># Tarkistusksia</span></span>
<span id="cb3-473"><a href="liitteet.html#cb3-473"></a><span class="co"># ISSP2012jh1d.dat %&gt;% summary()</span></span>
<span id="cb3-474"><a href="liitteet.html#cb3-474"></a></span>
<span id="cb3-475"><a href="liitteet.html#cb3-475"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-476"><a href="liitteet.html#cb3-476"></a><span class="co">#    select(Q1a1, Q1b1, Q1c1,Q1d1,Q1e1, Q2a1, Q2b1, Q3a1,Q3b1) %&gt;%</span></span>
<span id="cb3-477"><a href="liitteet.html#cb3-477"></a><span class="co">#    summary()</span></span>
<span id="cb3-478"><a href="liitteet.html#cb3-478"></a><span class="co">#</span></span>
<span id="cb3-479"><a href="liitteet.html#cb3-479"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-480"><a href="liitteet.html#cb3-480"></a><span class="co">#    select(edu1,msta1, sosta1, nchild1, lifsta1, urbru1) %&gt;%</span></span>
<span id="cb3-481"><a href="liitteet.html#cb3-481"></a><span class="co">#    summary()</span></span>
<span id="cb3-482"><a href="liitteet.html#cb3-482"></a></span>
<span id="cb3-483"><a href="liitteet.html#cb3-483"></a></span>
<span id="cb3-484"><a href="liitteet.html#cb3-484"></a><span class="co"># Substanssimuuttujat - ristiintaulukoinnit riittävät (6.2.20)</span></span>
<span id="cb3-485"><a href="liitteet.html#cb3-485"></a></span>
<span id="cb3-486"><a href="liitteet.html#cb3-486"></a><span class="co"># ISSP2012jh1d.dat$Q1a1 %&gt;% fct_count()</span></span>
<span id="cb3-487"><a href="liitteet.html#cb3-487"></a><span class="co"># ISSP2012jh1d.dat$Q1b1 %&gt;% fct_count()</span></span>
<span id="cb3-488"><a href="liitteet.html#cb3-488"></a><span class="co"># ISSP2012jh1d.dat$Q1c1 %&gt;% fct_count()</span></span>
<span id="cb3-489"><a href="liitteet.html#cb3-489"></a><span class="co"># ISSP2012jh1d.dat$Q1d1 %&gt;% fct_count()</span></span>
<span id="cb3-490"><a href="liitteet.html#cb3-490"></a><span class="co"># ISSP2012jh1d.dat$Q1e1 %&gt;% fct_count()</span></span>
<span id="cb3-491"><a href="liitteet.html#cb3-491"></a><span class="co"># ISSP2012jh1d.dat$Q2a1 %&gt;% fct_count()</span></span>
<span id="cb3-492"><a href="liitteet.html#cb3-492"></a><span class="co"># ISSP2012jh1d.dat$Q2b1 %&gt;% fct_count()</span></span>
<span id="cb3-493"><a href="liitteet.html#cb3-493"></a><span class="co"># ISSP2012jh1d.dat$Q3a1 %&gt;% fct_count()</span></span>
<span id="cb3-494"><a href="liitteet.html#cb3-494"></a><span class="co">#ISSP2012jh1d.dat$Q3b1 %&gt;% fct_count()</span></span>
<span id="cb3-495"><a href="liitteet.html#cb3-495"></a></span>
<span id="cb3-496"><a href="liitteet.html#cb3-496"></a><span class="co"># Taustamuuttujat - ristiintaulukoinnit riittävät (6.2.20)</span></span>
<span id="cb3-497"><a href="liitteet.html#cb3-497"></a></span>
<span id="cb3-498"><a href="liitteet.html#cb3-498"></a><span class="co"># ISSP2012jh1d.dat$edu1 %&gt;% fct_count()</span></span>
<span id="cb3-499"><a href="liitteet.html#cb3-499"></a><span class="co"># ISSP2012jh1d.dat$msta1 %&gt;% fct_count()</span></span>
<span id="cb3-500"><a href="liitteet.html#cb3-500"></a><span class="co"># ISSP2012jh1d.dat$sosta1 %&gt;% fct_count()</span></span>
<span id="cb3-501"><a href="liitteet.html#cb3-501"></a><span class="co"># ISSP2012jh1d.dat$nchild1 %&gt;% fct_count()</span></span>
<span id="cb3-502"><a href="liitteet.html#cb3-502"></a><span class="co"># ISSP2012jh1d.dat$lifsta1 %&gt;% fct_count()</span></span>
<span id="cb3-503"><a href="liitteet.html#cb3-503"></a><span class="co"># ISSP2012jh1d.dat$urbru1 %&gt;% fct_count()</span></span>
<span id="cb3-504"><a href="liitteet.html#cb3-504"></a></span>
<span id="cb3-505"><a href="liitteet.html#cb3-505"></a><span class="co"># Poistetaan tyhjät luokat muuttujista</span></span>
<span id="cb3-506"><a href="liitteet.html#cb3-506"></a></span>
<span id="cb3-507"><a href="liitteet.html#cb3-507"></a>ISSP2012jh1d.dat &lt;-<span class="st"> </span>ISSP2012jh1d.dat <span class="op">%&gt;%</span></span>
<span id="cb3-508"><a href="liitteet.html#cb3-508"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Q1a =</span> <span class="kw">fct_drop</span>(Q1a1),</span>
<span id="cb3-509"><a href="liitteet.html#cb3-509"></a>           <span class="dt">Q1b =</span> <span class="kw">fct_drop</span>(Q1b1),</span>
<span id="cb3-510"><a href="liitteet.html#cb3-510"></a>           <span class="dt">Q1c =</span> <span class="kw">fct_drop</span>(Q1c1),</span>
<span id="cb3-511"><a href="liitteet.html#cb3-511"></a>           <span class="dt">Q1d =</span> <span class="kw">fct_drop</span>(Q1d1),</span>
<span id="cb3-512"><a href="liitteet.html#cb3-512"></a>           <span class="dt">Q1e =</span> <span class="kw">fct_drop</span>(Q1e1),</span>
<span id="cb3-513"><a href="liitteet.html#cb3-513"></a>           <span class="dt">Q2a =</span> <span class="kw">fct_drop</span>(Q2a1),</span>
<span id="cb3-514"><a href="liitteet.html#cb3-514"></a>           <span class="dt">Q2b =</span> <span class="kw">fct_drop</span>(Q2b1),</span>
<span id="cb3-515"><a href="liitteet.html#cb3-515"></a>           <span class="dt">Q3a =</span> <span class="kw">fct_drop</span>(Q3a1),</span>
<span id="cb3-516"><a href="liitteet.html#cb3-516"></a>           <span class="dt">Q3b =</span> <span class="kw">fct_drop</span>(Q3b1),</span>
<span id="cb3-517"><a href="liitteet.html#cb3-517"></a>           <span class="dt">edu =</span> <span class="kw">fct_drop</span>(edu1),</span>
<span id="cb3-518"><a href="liitteet.html#cb3-518"></a>           <span class="dt">msta =</span> <span class="kw">fct_drop</span>(msta1),</span>
<span id="cb3-519"><a href="liitteet.html#cb3-519"></a>           <span class="dt">sosta =</span> <span class="kw">fct_drop</span>(sosta1),</span>
<span id="cb3-520"><a href="liitteet.html#cb3-520"></a>           <span class="dt">nchild =</span> <span class="kw">fct_drop</span>(nchild1),</span>
<span id="cb3-521"><a href="liitteet.html#cb3-521"></a>           <span class="dt">lifsta =</span> <span class="kw">fct_drop</span>(lifsta1),</span>
<span id="cb3-522"><a href="liitteet.html#cb3-522"></a>           <span class="dt">urbru =</span> <span class="kw">fct_drop</span>(urbru1)</span>
<span id="cb3-523"><a href="liitteet.html#cb3-523"></a></span>
<span id="cb3-524"><a href="liitteet.html#cb3-524"></a>    )</span>
<span id="cb3-525"><a href="liitteet.html#cb3-525"></a><span class="co"># Tarkistuksia 1</span></span>
<span id="cb3-526"><a href="liitteet.html#cb3-526"></a></span>
<span id="cb3-527"><a href="liitteet.html#cb3-527"></a><span class="co"># ISSP2012jh1d.dat %&gt;% summary()</span></span>
<span id="cb3-528"><a href="liitteet.html#cb3-528"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-529"><a href="liitteet.html#cb3-529"></a><span class="co">#    select(Q1a, Q1b, Q1c, Q1d, Q1e,Q2a,Q2b,Q3a, Q3b) %&gt;%</span></span>
<span id="cb3-530"><a href="liitteet.html#cb3-530"></a><span class="co">#    str()</span></span>
<span id="cb3-531"><a href="liitteet.html#cb3-531"></a><span class="co">#ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-532"><a href="liitteet.html#cb3-532"></a><span class="co">#    select(Q1a1, Q1b1, Q1c1, Q1d1, Q1e1,Q2a1,Q2b1,Q3a1, Q3b1) %&gt;%</span></span>
<span id="cb3-533"><a href="liitteet.html#cb3-533"></a><span class="co">#    str()</span></span>
<span id="cb3-534"><a href="liitteet.html#cb3-534"></a><span class="co">#ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-535"><a href="liitteet.html#cb3-535"></a><span class="co">#    select(edu, msta, sosta, nchild,lifsta, urbru) %&gt;%</span></span>
<span id="cb3-536"><a href="liitteet.html#cb3-536"></a><span class="co">#    str()</span></span>
<span id="cb3-537"><a href="liitteet.html#cb3-537"></a><span class="co">#ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-538"><a href="liitteet.html#cb3-538"></a><span class="co">#    select(edu1, msta1, sosta1, nchild1,lifsta1, urbru1) %&gt;%</span></span>
<span id="cb3-539"><a href="liitteet.html#cb3-539"></a><span class="co">#    str()</span></span>
<span id="cb3-540"><a href="liitteet.html#cb3-540"></a></span>
<span id="cb3-541"><a href="liitteet.html#cb3-541"></a><span class="co"># Tarkistuksia 2 - ristiintaulukointeja</span></span>
<span id="cb3-542"><a href="liitteet.html#cb3-542"></a><span class="co"># Substanssimuuttujat</span></span>
<span id="cb3-543"><a href="liitteet.html#cb3-543"></a></span>
<span id="cb3-544"><a href="liitteet.html#cb3-544"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q1a,Q1a1)</span></span>
<span id="cb3-545"><a href="liitteet.html#cb3-545"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q1b,Q1b1)</span></span>
<span id="cb3-546"><a href="liitteet.html#cb3-546"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q1c,Q1c1)</span></span>
<span id="cb3-547"><a href="liitteet.html#cb3-547"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q1d,Q1d1)</span></span>
<span id="cb3-548"><a href="liitteet.html#cb3-548"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q1e,Q1e1)</span></span>
<span id="cb3-549"><a href="liitteet.html#cb3-549"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q2a,Q2a1)</span></span>
<span id="cb3-550"><a href="liitteet.html#cb3-550"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q2b,Q2b1)</span></span>
<span id="cb3-551"><a href="liitteet.html#cb3-551"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q3a,Q3a1)</span></span>
<span id="cb3-552"><a href="liitteet.html#cb3-552"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(Q3b,Q3b1)</span></span>
<span id="cb3-553"><a href="liitteet.html#cb3-553"></a></span>
<span id="cb3-554"><a href="liitteet.html#cb3-554"></a><span class="co"># Taustamuuttujat</span></span>
<span id="cb3-555"><a href="liitteet.html#cb3-555"></a></span>
<span id="cb3-556"><a href="liitteet.html#cb3-556"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(edu,edu1)</span></span>
<span id="cb3-557"><a href="liitteet.html#cb3-557"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(msta,msta1)</span></span>
<span id="cb3-558"><a href="liitteet.html#cb3-558"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(sosta,sosta1)</span></span>
<span id="cb3-559"><a href="liitteet.html#cb3-559"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(nchild,nchild1)</span></span>
<span id="cb3-560"><a href="liitteet.html#cb3-560"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(lifsta,lifsta1)</span></span>
<span id="cb3-561"><a href="liitteet.html#cb3-561"></a><span class="co"># ISSP2012jh1d.dat %&gt;% tableX(urbru,urbru1)</span></span>
<span id="cb3-562"><a href="liitteet.html#cb3-562"></a></span>
<span id="cb3-563"><a href="liitteet.html#cb3-563"></a><span class="co"># Uusi muuttuja, jossa NA-arvot ovat mukana muuttujan uutena luokkana. Muuttujat</span></span>
<span id="cb3-564"><a href="liitteet.html#cb3-564"></a><span class="co"># nimetään Q1a -&gt; Q1am.</span></span>
<span id="cb3-565"><a href="liitteet.html#cb3-565"></a></span>
<span id="cb3-566"><a href="liitteet.html#cb3-566"></a>ISSP2012jh1d.dat &lt;-<span class="st"> </span>ISSP2012jh1d.dat <span class="op">%&gt;%</span></span>
<span id="cb3-567"><a href="liitteet.html#cb3-567"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Q1am =</span> <span class="kw">fct_explicit_na</span>(Q1a, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-568"><a href="liitteet.html#cb3-568"></a>           <span class="dt">Q1bm =</span> <span class="kw">fct_explicit_na</span>(Q1b, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-569"><a href="liitteet.html#cb3-569"></a>           <span class="dt">Q1cm =</span> <span class="kw">fct_explicit_na</span>(Q1c, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-570"><a href="liitteet.html#cb3-570"></a>           <span class="dt">Q1dm =</span> <span class="kw">fct_explicit_na</span>(Q1d, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-571"><a href="liitteet.html#cb3-571"></a>           <span class="dt">Q1em =</span> <span class="kw">fct_explicit_na</span>(Q1e, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-572"><a href="liitteet.html#cb3-572"></a>           <span class="dt">Q2am =</span> <span class="kw">fct_explicit_na</span>(Q2a, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-573"><a href="liitteet.html#cb3-573"></a>           <span class="dt">Q2bm =</span> <span class="kw">fct_explicit_na</span>(Q2b, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-574"><a href="liitteet.html#cb3-574"></a>           <span class="dt">Q3am =</span> <span class="kw">fct_explicit_na</span>(Q3a, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-575"><a href="liitteet.html#cb3-575"></a>           <span class="dt">Q3bm =</span> <span class="kw">fct_explicit_na</span>(Q3b, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-576"><a href="liitteet.html#cb3-576"></a>           <span class="dt">edum =</span> <span class="kw">fct_explicit_na</span>(edu, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-577"><a href="liitteet.html#cb3-577"></a>           <span class="dt">mstam =</span> <span class="kw">fct_explicit_na</span>(msta, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-578"><a href="liitteet.html#cb3-578"></a>           <span class="dt">sostam =</span> <span class="kw">fct_explicit_na</span>(sosta, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-579"><a href="liitteet.html#cb3-579"></a>           <span class="dt">nchildm =</span> <span class="kw">fct_explicit_na</span>(nchild, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-580"><a href="liitteet.html#cb3-580"></a>           <span class="dt">lifstam =</span> <span class="kw">fct_explicit_na</span>(lifsta, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-581"><a href="liitteet.html#cb3-581"></a>           <span class="dt">urbrum =</span> <span class="kw">fct_explicit_na</span>(urbru, <span class="dt">na_level =</span> <span class="st">&quot;missing&quot;</span>),</span>
<span id="cb3-582"><a href="liitteet.html#cb3-582"></a>           )</span>
<span id="cb3-583"><a href="liitteet.html#cb3-583"></a><span class="co"># Tarkistuksia 3</span></span>
<span id="cb3-584"><a href="liitteet.html#cb3-584"></a></span>
<span id="cb3-585"><a href="liitteet.html#cb3-585"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-586"><a href="liitteet.html#cb3-586"></a><span class="co">#    select(Q1am, Q1bm, Q1cm, Q1dm, Q1em, Q2am, Q2bm, Q3am, Q3bm) %&gt;%</span></span>
<span id="cb3-587"><a href="liitteet.html#cb3-587"></a><span class="co">#    summary()</span></span>
<span id="cb3-588"><a href="liitteet.html#cb3-588"></a><span class="co">#</span></span>
<span id="cb3-589"><a href="liitteet.html#cb3-589"></a><span class="co">#ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-590"><a href="liitteet.html#cb3-590"></a><span class="co">#    select(edum,mstam, sostam,nchildm,lifstam, urbrum) %&gt;%</span></span>
<span id="cb3-591"><a href="liitteet.html#cb3-591"></a><span class="co">#    summary()</span></span>
<span id="cb3-592"><a href="liitteet.html#cb3-592"></a><span class="co">#</span></span>
<span id="cb3-593"><a href="liitteet.html#cb3-593"></a><span class="co">#ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-594"><a href="liitteet.html#cb3-594"></a><span class="co">#    select(Q1am, Q1bm, Q1cm, Q1dm, Q1em, Q2am, Q2bm, Q3am, Q3bm) %&gt;%</span></span>
<span id="cb3-595"><a href="liitteet.html#cb3-595"></a><span class="co">#    str()</span></span>
<span id="cb3-596"><a href="liitteet.html#cb3-596"></a><span class="co">#</span></span>
<span id="cb3-597"><a href="liitteet.html#cb3-597"></a><span class="co">#ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-598"><a href="liitteet.html#cb3-598"></a><span class="co">#    select(edum,mstam, sostam,nchildm,lifstam, urbrum) %&gt;%</span></span>
<span id="cb3-599"><a href="liitteet.html#cb3-599"></a><span class="co">#    str()</span></span>
<span id="cb3-600"><a href="liitteet.html#cb3-600"></a></span>
<span id="cb3-601"><a href="liitteet.html#cb3-601"></a><span class="co"># Taustamuuttuja, puuttuva tieto mukana - ristiintaulkointeja</span></span>
<span id="cb3-602"><a href="liitteet.html#cb3-602"></a></span>
<span id="cb3-603"><a href="liitteet.html#cb3-603"></a><span class="co"># ISSP2012jh1d.dat$edum %&gt;% fct_count()</span></span>
<span id="cb3-604"><a href="liitteet.html#cb3-604"></a><span class="co"># ISSP2012jh1d.dat$mstam %&gt;% fct_count()</span></span>
<span id="cb3-605"><a href="liitteet.html#cb3-605"></a><span class="co"># ISSP2012jh1d.dat$sostam %&gt;% fct_count()</span></span>
<span id="cb3-606"><a href="liitteet.html#cb3-606"></a><span class="co"># ISSP2012jh1d.dat$nchildm %&gt;% fct_count()</span></span>
<span id="cb3-607"><a href="liitteet.html#cb3-607"></a><span class="co"># ISSP2012jh1d.dat$lifstam %&gt;% fct_count()</span></span>
<span id="cb3-608"><a href="liitteet.html#cb3-608"></a><span class="co"># ISSP2012jh1d.dat$urbrum %&gt;% fct_count()</span></span>
<span id="cb3-609"><a href="liitteet.html#cb3-609"></a></span>
<span id="cb3-610"><a href="liitteet.html#cb3-610"></a><span class="co"># Substanssimuuttujat, puuttuva tieto mukana  - ristiintaulkointeja</span></span>
<span id="cb3-611"><a href="liitteet.html#cb3-611"></a></span>
<span id="cb3-612"><a href="liitteet.html#cb3-612"></a><span class="co"># ISSP2012jh1d.dat$Q1am %&gt;% fct_count()</span></span>
<span id="cb3-613"><a href="liitteet.html#cb3-613"></a><span class="co"># ISSP2012jh1d.dat$Q1bm %&gt;% fct_count()</span></span>
<span id="cb3-614"><a href="liitteet.html#cb3-614"></a><span class="co"># ISSP2012jh1d.dat$Q1cm %&gt;% fct_count()</span></span>
<span id="cb3-615"><a href="liitteet.html#cb3-615"></a><span class="co"># ISSP2012jh1d.dat$Q1dm %&gt;% fct_count()</span></span>
<span id="cb3-616"><a href="liitteet.html#cb3-616"></a><span class="co"># ISSP2012jh1d.dat$Q1em %&gt;% fct_count()</span></span>
<span id="cb3-617"><a href="liitteet.html#cb3-617"></a><span class="co"># ISSP2012jh1d.dat$Q2am %&gt;% fct_count()</span></span>
<span id="cb3-618"><a href="liitteet.html#cb3-618"></a><span class="co"># ISSP2012jh1d.dat$Q2bm %&gt;% fct_count()</span></span>
<span id="cb3-619"><a href="liitteet.html#cb3-619"></a><span class="co"># ISSP2012jh1d.dat$Q3am %&gt;% fct_count()</span></span>
<span id="cb3-620"><a href="liitteet.html#cb3-620"></a><span class="co"># ISSP2012jh1d.dat$Q3bm %&gt;% fct_count()</span></span>
<span id="cb3-621"><a href="liitteet.html#cb3-621"></a></span>
<span id="cb3-622"><a href="liitteet.html#cb3-622"></a><span class="co"># Vaihe 2.4.1</span></span>
<span id="cb3-623"><a href="liitteet.html#cb3-623"></a></span>
<span id="cb3-624"><a href="liitteet.html#cb3-624"></a><span class="co"># Q1a - Q1e,Q2a, Q2b  Viisi vastausvaihtoehtoa - ei eksplisiittistä NA-tietoa(&quot;missing&quot;)</span></span>
<span id="cb3-625"><a href="liitteet.html#cb3-625"></a><span class="co"># Q3a - Q3b  kolme vastausvaihtoehtoa</span></span>
<span id="cb3-626"><a href="liitteet.html#cb3-626"></a></span>
<span id="cb3-627"><a href="liitteet.html#cb3-627"></a>ISSP2012jh1d.dat &lt;-<span class="st"> </span>ISSP2012jh1d.dat <span class="op">%&gt;%</span></span>
<span id="cb3-628"><a href="liitteet.html#cb3-628"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Q1a =</span> <span class="kw">fct_recode</span>(Q1a,</span>
<span id="cb3-629"><a href="liitteet.html#cb3-629"></a>                        <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-630"><a href="liitteet.html#cb3-630"></a>                        <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-631"><a href="liitteet.html#cb3-631"></a>                        <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-632"><a href="liitteet.html#cb3-632"></a>                        <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-633"><a href="liitteet.html#cb3-633"></a>                        <span class="st">&quot;E&quot;</span>=<span class="st"> &quot;Strongly disagree&quot;</span>),</span>
<span id="cb3-634"><a href="liitteet.html#cb3-634"></a>            <span class="dt">Q1b =</span> <span class="kw">fct_recode</span>(Q1b,</span>
<span id="cb3-635"><a href="liitteet.html#cb3-635"></a>                      <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-636"><a href="liitteet.html#cb3-636"></a>                      <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-637"><a href="liitteet.html#cb3-637"></a>                      <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-638"><a href="liitteet.html#cb3-638"></a>                      <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-639"><a href="liitteet.html#cb3-639"></a>                      <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>),</span>
<span id="cb3-640"><a href="liitteet.html#cb3-640"></a>           <span class="dt">Q1c =</span> <span class="kw">fct_recode</span>(Q1c,</span>
<span id="cb3-641"><a href="liitteet.html#cb3-641"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-642"><a href="liitteet.html#cb3-642"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-643"><a href="liitteet.html#cb3-643"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-644"><a href="liitteet.html#cb3-644"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-645"><a href="liitteet.html#cb3-645"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>),</span>
<span id="cb3-646"><a href="liitteet.html#cb3-646"></a>           <span class="dt">Q1d =</span> <span class="kw">fct_recode</span>(Q1d,</span>
<span id="cb3-647"><a href="liitteet.html#cb3-647"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-648"><a href="liitteet.html#cb3-648"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-649"><a href="liitteet.html#cb3-649"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-650"><a href="liitteet.html#cb3-650"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-651"><a href="liitteet.html#cb3-651"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>),</span>
<span id="cb3-652"><a href="liitteet.html#cb3-652"></a>           <span class="dt">Q1e =</span> <span class="kw">fct_recode</span>(Q1e,</span>
<span id="cb3-653"><a href="liitteet.html#cb3-653"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-654"><a href="liitteet.html#cb3-654"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-655"><a href="liitteet.html#cb3-655"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-656"><a href="liitteet.html#cb3-656"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-657"><a href="liitteet.html#cb3-657"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>),</span>
<span id="cb3-658"><a href="liitteet.html#cb3-658"></a>          <span class="dt">Q2a =</span> <span class="kw">fct_recode</span>(Q2a,</span>
<span id="cb3-659"><a href="liitteet.html#cb3-659"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-660"><a href="liitteet.html#cb3-660"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-661"><a href="liitteet.html#cb3-661"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-662"><a href="liitteet.html#cb3-662"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-663"><a href="liitteet.html#cb3-663"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span> ),</span>
<span id="cb3-664"><a href="liitteet.html#cb3-664"></a>          <span class="dt">Q2b =</span> <span class="kw">fct_recode</span>(Q2b,</span>
<span id="cb3-665"><a href="liitteet.html#cb3-665"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-666"><a href="liitteet.html#cb3-666"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-667"><a href="liitteet.html#cb3-667"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-668"><a href="liitteet.html#cb3-668"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-669"><a href="liitteet.html#cb3-669"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>),</span>
<span id="cb3-670"><a href="liitteet.html#cb3-670"></a>          <span class="dt">Q3a =</span> <span class="kw">fct_recode</span>(Q3a,</span>
<span id="cb3-671"><a href="liitteet.html#cb3-671"></a>                          <span class="st">&quot;W&quot;</span> =<span class="st"> &quot;Work full-time&quot;</span>,</span>
<span id="cb3-672"><a href="liitteet.html#cb3-672"></a>                          <span class="st">&quot;w&quot;</span> =<span class="st"> &quot;Work part-time&quot;</span>,</span>
<span id="cb3-673"><a href="liitteet.html#cb3-673"></a>                          <span class="st">&quot;H&quot;</span> =<span class="st"> &quot;Stay at home&quot;</span> ),</span>
<span id="cb3-674"><a href="liitteet.html#cb3-674"></a>          <span class="dt">Q3b =</span> <span class="kw">fct_recode</span>(Q3b,</span>
<span id="cb3-675"><a href="liitteet.html#cb3-675"></a>                           <span class="st">&quot;W&quot;</span> =<span class="st"> &quot;Work full-time&quot;</span>,</span>
<span id="cb3-676"><a href="liitteet.html#cb3-676"></a>                           <span class="st">&quot;w&quot;</span> =<span class="st"> &quot;Work part-time&quot;</span>,</span>
<span id="cb3-677"><a href="liitteet.html#cb3-677"></a>                           <span class="st">&quot;H&quot;</span> =<span class="st"> &quot;Stay at home&quot;</span> )</span>
<span id="cb3-678"><a href="liitteet.html#cb3-678"></a>                        )</span>
<span id="cb3-679"><a href="liitteet.html#cb3-679"></a></span>
<span id="cb3-680"><a href="liitteet.html#cb3-680"></a></span>
<span id="cb3-681"><a href="liitteet.html#cb3-681"></a><span class="co"># Tarkistuksia 1</span></span>
<span id="cb3-682"><a href="liitteet.html#cb3-682"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-683"><a href="liitteet.html#cb3-683"></a><span class="co">#    select(Q1a, Q1b, Q1c, Q1d, Q1e, Q2a, Q2b, Q3a, Q3b) %&gt;%</span></span>
<span id="cb3-684"><a href="liitteet.html#cb3-684"></a><span class="co">#    summary()</span></span>
<span id="cb3-685"><a href="liitteet.html#cb3-685"></a></span>
<span id="cb3-686"><a href="liitteet.html#cb3-686"></a></span>
<span id="cb3-687"><a href="liitteet.html#cb3-687"></a><span class="co"># Vaihe 2.4.2 - muuttujassa eksplisiittinen NA-tieto</span></span>
<span id="cb3-688"><a href="liitteet.html#cb3-688"></a>ISSP2012jh1d.dat &lt;-<span class="st"> </span>ISSP2012jh1d.dat <span class="op">%&gt;%</span></span>
<span id="cb3-689"><a href="liitteet.html#cb3-689"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Q1am =</span> <span class="kw">fct_recode</span>(Q1am,</span>
<span id="cb3-690"><a href="liitteet.html#cb3-690"></a>                            <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-691"><a href="liitteet.html#cb3-691"></a>                            <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-692"><a href="liitteet.html#cb3-692"></a>                            <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-693"><a href="liitteet.html#cb3-693"></a>                            <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-694"><a href="liitteet.html#cb3-694"></a>                            <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>,</span>
<span id="cb3-695"><a href="liitteet.html#cb3-695"></a>                            <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>),</span>
<span id="cb3-696"><a href="liitteet.html#cb3-696"></a>           <span class="dt">Q1bm =</span> <span class="kw">fct_recode</span>(Q1bm,</span>
<span id="cb3-697"><a href="liitteet.html#cb3-697"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-698"><a href="liitteet.html#cb3-698"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-699"><a href="liitteet.html#cb3-699"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-700"><a href="liitteet.html#cb3-700"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-701"><a href="liitteet.html#cb3-701"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>,</span>
<span id="cb3-702"><a href="liitteet.html#cb3-702"></a>                           <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>),</span>
<span id="cb3-703"><a href="liitteet.html#cb3-703"></a>           <span class="dt">Q1cm =</span> <span class="kw">fct_recode</span>(Q1cm,</span>
<span id="cb3-704"><a href="liitteet.html#cb3-704"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-705"><a href="liitteet.html#cb3-705"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-706"><a href="liitteet.html#cb3-706"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-707"><a href="liitteet.html#cb3-707"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-708"><a href="liitteet.html#cb3-708"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>,</span>
<span id="cb3-709"><a href="liitteet.html#cb3-709"></a>                           <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>),</span>
<span id="cb3-710"><a href="liitteet.html#cb3-710"></a>           <span class="dt">Q1dm =</span> <span class="kw">fct_recode</span>(Q1dm,</span>
<span id="cb3-711"><a href="liitteet.html#cb3-711"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-712"><a href="liitteet.html#cb3-712"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-713"><a href="liitteet.html#cb3-713"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-714"><a href="liitteet.html#cb3-714"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-715"><a href="liitteet.html#cb3-715"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>,</span>
<span id="cb3-716"><a href="liitteet.html#cb3-716"></a>                           <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>),</span>
<span id="cb3-717"><a href="liitteet.html#cb3-717"></a>           <span class="dt">Q1em =</span> <span class="kw">fct_recode</span>(Q1em,</span>
<span id="cb3-718"><a href="liitteet.html#cb3-718"></a>                           <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-719"><a href="liitteet.html#cb3-719"></a>                           <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-720"><a href="liitteet.html#cb3-720"></a>                           <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-721"><a href="liitteet.html#cb3-721"></a>                           <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-722"><a href="liitteet.html#cb3-722"></a>                           <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>,</span>
<span id="cb3-723"><a href="liitteet.html#cb3-723"></a>                           <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>),</span>
<span id="cb3-724"><a href="liitteet.html#cb3-724"></a>           <span class="dt">Q2am =</span> <span class="kw">fct_recode</span>(Q2am,</span>
<span id="cb3-725"><a href="liitteet.html#cb3-725"></a>                            <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-726"><a href="liitteet.html#cb3-726"></a>                            <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-727"><a href="liitteet.html#cb3-727"></a>                            <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-728"><a href="liitteet.html#cb3-728"></a>                            <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-729"><a href="liitteet.html#cb3-729"></a>                            <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>,</span>
<span id="cb3-730"><a href="liitteet.html#cb3-730"></a>                            <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>),</span>
<span id="cb3-731"><a href="liitteet.html#cb3-731"></a>           <span class="dt">Q2bm =</span> <span class="kw">fct_recode</span>(Q2bm,</span>
<span id="cb3-732"><a href="liitteet.html#cb3-732"></a>                            <span class="st">&quot;S&quot;</span> =<span class="st"> &quot;Strongly agree&quot;</span>,</span>
<span id="cb3-733"><a href="liitteet.html#cb3-733"></a>                            <span class="st">&quot;s&quot;</span> =<span class="st"> &quot;Agree&quot;</span>,</span>
<span id="cb3-734"><a href="liitteet.html#cb3-734"></a>                            <span class="st">&quot;?&quot;</span> =<span class="st"> &quot;Neither agree nor disagree&quot;</span>,</span>
<span id="cb3-735"><a href="liitteet.html#cb3-735"></a>                            <span class="st">&quot;e&quot;</span> =<span class="st"> &quot;Disagree&quot;</span>,</span>
<span id="cb3-736"><a href="liitteet.html#cb3-736"></a>                            <span class="st">&quot;E&quot;</span> =<span class="st"> &quot;Strongly disagree&quot;</span>,</span>
<span id="cb3-737"><a href="liitteet.html#cb3-737"></a>                            <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>),</span>
<span id="cb3-738"><a href="liitteet.html#cb3-738"></a>           <span class="dt">Q3am =</span> <span class="kw">fct_recode</span>(Q3am,</span>
<span id="cb3-739"><a href="liitteet.html#cb3-739"></a>                            <span class="st">&quot;W&quot;</span> =<span class="st"> &quot;Work full-time&quot;</span>,</span>
<span id="cb3-740"><a href="liitteet.html#cb3-740"></a>                            <span class="st">&quot;w&quot;</span> =<span class="st"> &quot;Work part-time&quot;</span>,</span>
<span id="cb3-741"><a href="liitteet.html#cb3-741"></a>                            <span class="st">&quot;H&quot;</span> =<span class="st"> &quot;Stay at home&quot;</span>,</span>
<span id="cb3-742"><a href="liitteet.html#cb3-742"></a>                            <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>),</span>
<span id="cb3-743"><a href="liitteet.html#cb3-743"></a>           <span class="dt">Q3bm =</span> <span class="kw">fct_recode</span>(Q3bm,</span>
<span id="cb3-744"><a href="liitteet.html#cb3-744"></a>                            <span class="st">&quot;W&quot;</span> =<span class="st"> &quot;Work full-time&quot;</span>,</span>
<span id="cb3-745"><a href="liitteet.html#cb3-745"></a>                            <span class="st">&quot;w&quot;</span> =<span class="st"> &quot;Work part-time&quot;</span>,</span>
<span id="cb3-746"><a href="liitteet.html#cb3-746"></a>                            <span class="st">&quot;H&quot;</span> =<span class="st"> &quot;Stay at home&quot;</span>,</span>
<span id="cb3-747"><a href="liitteet.html#cb3-747"></a>                            <span class="st">&quot;P&quot;</span> =<span class="st"> &quot;missing&quot;</span>)</span>
<span id="cb3-748"><a href="liitteet.html#cb3-748"></a>               )</span>
<span id="cb3-749"><a href="liitteet.html#cb3-749"></a></span>
<span id="cb3-750"><a href="liitteet.html#cb3-750"></a><span class="co"># Tarkistuksia 4</span></span>
<span id="cb3-751"><a href="liitteet.html#cb3-751"></a></span>
<span id="cb3-752"><a href="liitteet.html#cb3-752"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-753"><a href="liitteet.html#cb3-753"></a><span class="co">#    select(Q1am, Q1bm, Q1cm, Q1dm, Q1em, Q2am, Q2bm, Q3am, Q3bm) %&gt;%</span></span>
<span id="cb3-754"><a href="liitteet.html#cb3-754"></a><span class="co">#    summary()</span></span>
<span id="cb3-755"><a href="liitteet.html#cb3-755"></a></span>
<span id="cb3-756"><a href="liitteet.html#cb3-756"></a><span class="co"># Tarkistuksia 5</span></span>
<span id="cb3-757"><a href="liitteet.html#cb3-757"></a></span>
<span id="cb3-758"><a href="liitteet.html#cb3-758"></a><span class="co"># Substanssimuuttuja</span></span>
<span id="cb3-759"><a href="liitteet.html#cb3-759"></a></span>
<span id="cb3-760"><a href="liitteet.html#cb3-760"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-761"><a href="liitteet.html#cb3-761"></a><span class="co">#    tableX(Q1a,Q1am)</span></span>
<span id="cb3-762"><a href="liitteet.html#cb3-762"></a><span class="co">#</span></span>
<span id="cb3-763"><a href="liitteet.html#cb3-763"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-764"><a href="liitteet.html#cb3-764"></a><span class="co">#    tableX(Q1b,Q1bm)</span></span>
<span id="cb3-765"><a href="liitteet.html#cb3-765"></a><span class="co">#</span></span>
<span id="cb3-766"><a href="liitteet.html#cb3-766"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-767"><a href="liitteet.html#cb3-767"></a><span class="co">#    tableX(Q1c,Q1cm)</span></span>
<span id="cb3-768"><a href="liitteet.html#cb3-768"></a><span class="co">#</span></span>
<span id="cb3-769"><a href="liitteet.html#cb3-769"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-770"><a href="liitteet.html#cb3-770"></a><span class="co">#    tableX(Q1d,Q1dm)</span></span>
<span id="cb3-771"><a href="liitteet.html#cb3-771"></a><span class="co">#</span></span>
<span id="cb3-772"><a href="liitteet.html#cb3-772"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-773"><a href="liitteet.html#cb3-773"></a><span class="co">#    tableX(Q1e,Q1em)</span></span>
<span id="cb3-774"><a href="liitteet.html#cb3-774"></a><span class="co">#</span></span>
<span id="cb3-775"><a href="liitteet.html#cb3-775"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-776"><a href="liitteet.html#cb3-776"></a><span class="co">#    tableX(Q2a,Q2am)</span></span>
<span id="cb3-777"><a href="liitteet.html#cb3-777"></a><span class="co">#</span></span>
<span id="cb3-778"><a href="liitteet.html#cb3-778"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-779"><a href="liitteet.html#cb3-779"></a><span class="co">#    tableX(Q2b,Q2bm)</span></span>
<span id="cb3-780"><a href="liitteet.html#cb3-780"></a><span class="co">#</span></span>
<span id="cb3-781"><a href="liitteet.html#cb3-781"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-782"><a href="liitteet.html#cb3-782"></a><span class="co">#    tableX(Q3a,Q3am)</span></span>
<span id="cb3-783"><a href="liitteet.html#cb3-783"></a><span class="co">#</span></span>
<span id="cb3-784"><a href="liitteet.html#cb3-784"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-785"><a href="liitteet.html#cb3-785"></a><span class="co">#    tableX(Q3b,Q3bm)</span></span>
<span id="cb3-786"><a href="liitteet.html#cb3-786"></a><span class="co">#</span></span>
<span id="cb3-787"><a href="liitteet.html#cb3-787"></a><span class="co"># ISSP2012jh1d.dat %&gt;% </span></span>
<span id="cb3-788"><a href="liitteet.html#cb3-788"></a><span class="co">#    tableX(Q3am,Q3a)</span></span>
<span id="cb3-789"><a href="liitteet.html#cb3-789"></a><span class="co">#</span></span>
<span id="cb3-790"><a href="liitteet.html#cb3-790"></a><span class="co"># ISSP2012jh1d.dat$Q3a %&gt;% levels()</span></span>
<span id="cb3-791"><a href="liitteet.html#cb3-791"></a><span class="co"># ISSP2012jh1d.dat$Q3am %&gt;% levels()</span></span>
<span id="cb3-792"><a href="liitteet.html#cb3-792"></a></span>
<span id="cb3-793"><a href="liitteet.html#cb3-793"></a><span class="co"># Taustamuuttujat - ristiintaulukointeja</span></span>
<span id="cb3-794"><a href="liitteet.html#cb3-794"></a></span>
<span id="cb3-795"><a href="liitteet.html#cb3-795"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-796"><a href="liitteet.html#cb3-796"></a><span class="co">#    tableX(edu, edum)</span></span>
<span id="cb3-797"><a href="liitteet.html#cb3-797"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-798"><a href="liitteet.html#cb3-798"></a><span class="co">#    tableX(msta, mstam)</span></span>
<span id="cb3-799"><a href="liitteet.html#cb3-799"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-800"><a href="liitteet.html#cb3-800"></a><span class="co">#    tableX(sosta, sostam)</span></span>
<span id="cb3-801"><a href="liitteet.html#cb3-801"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-802"><a href="liitteet.html#cb3-802"></a><span class="co">#    tableX(nchild,nchildm)</span></span>
<span id="cb3-803"><a href="liitteet.html#cb3-803"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-804"><a href="liitteet.html#cb3-804"></a><span class="co">#    tableX(lifsta, lifstam)</span></span>
<span id="cb3-805"><a href="liitteet.html#cb3-805"></a><span class="co"># ISSP2012jh1d.dat %&gt;%</span></span>
<span id="cb3-806"><a href="liitteet.html#cb3-806"></a><span class="co">#    tableX(urbru, urbrum)</span></span>
<span id="cb3-807"><a href="liitteet.html#cb3-807"></a></span>
<span id="cb3-808"><a href="liitteet.html#cb3-808"></a><span class="co"># (16.9.2020) Testaus uusille muuttujille</span></span>
<span id="cb3-809"><a href="liitteet.html#cb3-809"></a><span class="co"># Koodilohkoissa on jo testattu taulukoimalla muuttujia. Tässä varmistetaan, että</span></span>
<span id="cb3-810"><a href="liitteet.html#cb3-810"></a><span class="co"># muuttujat pysyvät sellaisina millaisiksi ne on luotu.</span></span>
<span id="cb3-811"><a href="liitteet.html#cb3-811"></a></span>
<span id="cb3-812"><a href="liitteet.html#cb3-812"></a><span class="co"># ika - onpas hankala testata !</span></span>
<span id="cb3-813"><a href="liitteet.html#cb3-813"></a><span class="co"># Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></span>
<span id="cb3-814"><a href="liitteet.html#cb3-814"></a><span class="co"># 15.00   36.00   50.00   49.52   63.00  102.00</span></span>
<span id="cb3-815"><a href="liitteet.html#cb3-815"></a><span class="co"># ikatest &lt;- ISSP2012jh1d.dat$ika %&gt;% summary()</span></span>
<span id="cb3-816"><a href="liitteet.html#cb3-816"></a><span class="co">#   ikatest &lt;- ikatest[2,]</span></span>
<span id="cb3-817"><a href="liitteet.html#cb3-817"></a><span class="co">#validate_that(are_equal(ikatest, c(15, 36, 50, 49.5, 63, 102)))</span></span>
<span id="cb3-818"><a href="liitteet.html#cb3-818"></a><span class="co">#str(ISSP2012jh1d.dat)</span></span>
<span id="cb3-819"><a href="liitteet.html#cb3-819"></a><span class="co">#ISSP2012jh1d.dat %&gt;% </span></span>
<span id="cb3-820"><a href="liitteet.html#cb3-820"></a></span>
<span id="cb3-821"><a href="liitteet.html#cb3-821"></a><span class="co"># substanssimuuttujat 1</span></span>
<span id="cb3-822"><a href="liitteet.html#cb3-822"></a><span class="co"># Q1a, Q1b, Q1c, Q1d, Q1e, Q2a, Q2b, Q3a, Q3b (r. 423-&gt;)</span></span>
<span id="cb3-823"><a href="liitteet.html#cb3-823"></a></span>
<span id="cb3-824"><a href="liitteet.html#cb3-824"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1a)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-825"><a href="liitteet.html#cb3-825"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1a),</span>
<span id="cb3-826"><a href="liitteet.html#cb3-826"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)))</span>
<span id="cb3-827"><a href="liitteet.html#cb3-827"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1b)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-828"><a href="liitteet.html#cb3-828"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1b),</span>
<span id="cb3-829"><a href="liitteet.html#cb3-829"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)))</span>
<span id="cb3-830"><a href="liitteet.html#cb3-830"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1c)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-831"><a href="liitteet.html#cb3-831"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1c),</span>
<span id="cb3-832"><a href="liitteet.html#cb3-832"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)))</span>
<span id="cb3-833"><a href="liitteet.html#cb3-833"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1d)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-834"><a href="liitteet.html#cb3-834"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1d),</span>
<span id="cb3-835"><a href="liitteet.html#cb3-835"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)))</span>
<span id="cb3-836"><a href="liitteet.html#cb3-836"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1e)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-837"><a href="liitteet.html#cb3-837"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1e),</span>
<span id="cb3-838"><a href="liitteet.html#cb3-838"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)))</span>
<span id="cb3-839"><a href="liitteet.html#cb3-839"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q2a)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-840"><a href="liitteet.html#cb3-840"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q2a),</span>
<span id="cb3-841"><a href="liitteet.html#cb3-841"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)))</span>
<span id="cb3-842"><a href="liitteet.html#cb3-842"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q2b)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-843"><a href="liitteet.html#cb3-843"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q2b),</span>
<span id="cb3-844"><a href="liitteet.html#cb3-844"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)))</span>
<span id="cb3-845"><a href="liitteet.html#cb3-845"></a></span>
<span id="cb3-846"><a href="liitteet.html#cb3-846"></a><span class="co"># substanssimuuttujat 2</span></span>
<span id="cb3-847"><a href="liitteet.html#cb3-847"></a></span>
<span id="cb3-848"><a href="liitteet.html#cb3-848"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q3a)) <span class="op">==</span><span class="st"> </span><span class="dv">3</span>)</span>
<span id="cb3-849"><a href="liitteet.html#cb3-849"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q3a),</span>
<span id="cb3-850"><a href="liitteet.html#cb3-850"></a>               <span class="kw">c</span>(<span class="st">&quot;W&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="st">&quot;H&quot;</span>)))</span>
<span id="cb3-851"><a href="liitteet.html#cb3-851"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q3b)) <span class="op">==</span><span class="st"> </span><span class="dv">3</span>)</span>
<span id="cb3-852"><a href="liitteet.html#cb3-852"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q3b),</span>
<span id="cb3-853"><a href="liitteet.html#cb3-853"></a>               <span class="kw">c</span>(<span class="st">&quot;W&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="st">&quot;H&quot;</span>)))</span>
<span id="cb3-854"><a href="liitteet.html#cb3-854"></a></span>
<span id="cb3-855"><a href="liitteet.html#cb3-855"></a></span>
<span id="cb3-856"><a href="liitteet.html#cb3-856"></a></span>
<span id="cb3-857"><a href="liitteet.html#cb3-857"></a><span class="co"># substanssimuuttujat, puuttuva tieto muuttujan arvona</span></span>
<span id="cb3-858"><a href="liitteet.html#cb3-858"></a><span class="co"># Q1am, Q1bm, Q1cm, Q1dm, Q1em, Q2am, Q2bm, Q3am, Q3bm</span></span>
<span id="cb3-859"><a href="liitteet.html#cb3-859"></a></span>
<span id="cb3-860"><a href="liitteet.html#cb3-860"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1am)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-861"><a href="liitteet.html#cb3-861"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1am),</span>
<span id="cb3-862"><a href="liitteet.html#cb3-862"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-863"><a href="liitteet.html#cb3-863"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1bm)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-864"><a href="liitteet.html#cb3-864"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1bm),</span>
<span id="cb3-865"><a href="liitteet.html#cb3-865"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-866"><a href="liitteet.html#cb3-866"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1cm)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-867"><a href="liitteet.html#cb3-867"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1cm),</span>
<span id="cb3-868"><a href="liitteet.html#cb3-868"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-869"><a href="liitteet.html#cb3-869"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1dm)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-870"><a href="liitteet.html#cb3-870"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1dm),</span>
<span id="cb3-871"><a href="liitteet.html#cb3-871"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-872"><a href="liitteet.html#cb3-872"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1em)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-873"><a href="liitteet.html#cb3-873"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q1em),</span>
<span id="cb3-874"><a href="liitteet.html#cb3-874"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-875"><a href="liitteet.html#cb3-875"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q2am)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-876"><a href="liitteet.html#cb3-876"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q2am),</span>
<span id="cb3-877"><a href="liitteet.html#cb3-877"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-878"><a href="liitteet.html#cb3-878"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q2bm)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-879"><a href="liitteet.html#cb3-879"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q2bm),</span>
<span id="cb3-880"><a href="liitteet.html#cb3-880"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-881"><a href="liitteet.html#cb3-881"></a></span>
<span id="cb3-882"><a href="liitteet.html#cb3-882"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q3am)) <span class="op">==</span><span class="st"> </span><span class="dv">4</span>)</span>
<span id="cb3-883"><a href="liitteet.html#cb3-883"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q3am),</span>
<span id="cb3-884"><a href="liitteet.html#cb3-884"></a>               <span class="kw">c</span>(<span class="st">&quot;W&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="st">&quot;H&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-885"><a href="liitteet.html#cb3-885"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q3bm)) <span class="op">==</span><span class="st"> </span><span class="dv">4</span>)</span>
<span id="cb3-886"><a href="liitteet.html#cb3-886"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>Q3bm),</span>
<span id="cb3-887"><a href="liitteet.html#cb3-887"></a>               <span class="kw">c</span>(<span class="st">&quot;W&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="st">&quot;H&quot;</span>, <span class="st">&quot;P&quot;</span>)))</span>
<span id="cb3-888"><a href="liitteet.html#cb3-888"></a></span>
<span id="cb3-889"><a href="liitteet.html#cb3-889"></a><span class="co"># taustamuuttujat puuttuvilla tiedoilla ja ilman</span></span>
<span id="cb3-890"><a href="liitteet.html#cb3-890"></a><span class="co"># testataan vain tasojen määrä, ei labeleita jotka ovat </span></span>
<span id="cb3-891"><a href="liitteet.html#cb3-891"></a><span class="co"># alkuperäisestä datasta.</span></span>
<span id="cb3-892"><a href="liitteet.html#cb3-892"></a></span>
<span id="cb3-893"><a href="liitteet.html#cb3-893"></a><span class="co"># edu, edum Huom! Koulutustasoluokitus alkuperäisessä</span></span>
<span id="cb3-894"><a href="liitteet.html#cb3-894"></a><span class="co"># datassa 0-6 (ei muodollista koulusta - korkeampi kolmas aste (maisteri, tohtori)</span></span>
<span id="cb3-895"><a href="liitteet.html#cb3-895"></a><span class="co"># R-faktorissa 1-7</span></span>
<span id="cb3-896"><a href="liitteet.html#cb3-896"></a></span>
<span id="cb3-897"><a href="liitteet.html#cb3-897"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>edu)) <span class="op">==</span><span class="st"> </span><span class="dv">7</span>)</span>
<span id="cb3-898"><a href="liitteet.html#cb3-898"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>edum)) <span class="op">==</span><span class="st"> </span><span class="dv">8</span>)</span>
<span id="cb3-899"><a href="liitteet.html#cb3-899"></a></span>
<span id="cb3-900"><a href="liitteet.html#cb3-900"></a><span class="co"># msta, mstam</span></span>
<span id="cb3-901"><a href="liitteet.html#cb3-901"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>msta)) <span class="op">==</span><span class="st"> </span><span class="dv">9</span>)</span>
<span id="cb3-902"><a href="liitteet.html#cb3-902"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>mstam)) <span class="op">==</span><span class="st"> </span><span class="dv">10</span>)</span>
<span id="cb3-903"><a href="liitteet.html#cb3-903"></a></span>
<span id="cb3-904"><a href="liitteet.html#cb3-904"></a><span class="co"># sosta, sostam</span></span>
<span id="cb3-905"><a href="liitteet.html#cb3-905"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>sosta)) <span class="op">==</span><span class="st"> </span><span class="dv">10</span>)</span>
<span id="cb3-906"><a href="liitteet.html#cb3-906"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>sostam)) <span class="op">==</span><span class="st"> </span><span class="dv">11</span>)</span>
<span id="cb3-907"><a href="liitteet.html#cb3-907"></a></span>
<span id="cb3-908"><a href="liitteet.html#cb3-908"></a><span class="co"># nchild, ncildm</span></span>
<span id="cb3-909"><a href="liitteet.html#cb3-909"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>nchild)) <span class="op">==</span><span class="st"> </span><span class="dv">11</span>)</span>
<span id="cb3-910"><a href="liitteet.html#cb3-910"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>nchildm)) <span class="op">==</span><span class="st"> </span><span class="dv">12</span>)</span>
<span id="cb3-911"><a href="liitteet.html#cb3-911"></a></span>
<span id="cb3-912"><a href="liitteet.html#cb3-912"></a><span class="co"># lifsta, lifstam</span></span>
<span id="cb3-913"><a href="liitteet.html#cb3-913"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>lifsta)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-914"><a href="liitteet.html#cb3-914"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>lifstam)) <span class="op">==</span><span class="st"> </span><span class="dv">7</span>)</span>
<span id="cb3-915"><a href="liitteet.html#cb3-915"></a></span>
<span id="cb3-916"><a href="liitteet.html#cb3-916"></a><span class="co"># urbru, urbrum</span></span>
<span id="cb3-917"><a href="liitteet.html#cb3-917"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>urbru)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-918"><a href="liitteet.html#cb3-918"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012jh1d.dat<span class="op">$</span>urbrum)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-919"><a href="liitteet.html#cb3-919"></a></span>
<span id="cb3-920"><a href="liitteet.html#cb3-920"></a></span>
<span id="cb3-921"><a href="liitteet.html#cb3-921"></a><span class="co"># Muuttuja taulukkona - karkea tapa</span></span>
<span id="cb3-922"><a href="liitteet.html#cb3-922"></a><span class="co"># HUOM! Taulkot ovat hankalia, kun tulostus halutaan pdf- ja html- formaattiin</span></span>
<span id="cb3-923"><a href="liitteet.html#cb3-923"></a><span class="co"># Kysymyste pitkät versiot on siksi esitetty suomenkielisen lomakkeen kuvana.</span></span>
<span id="cb3-924"><a href="liitteet.html#cb3-924"></a></span>
<span id="cb3-925"><a href="liitteet.html#cb3-925"></a>tabVarnames &lt;-<span class="st"> </span><span class="kw">c</span>(substvars1,bgvars1) <span class="co"># muuttujanimet muuttujille</span></span>
<span id="cb3-926"><a href="liitteet.html#cb3-926"></a></span>
<span id="cb3-927"><a href="liitteet.html#cb3-927"></a><span class="co"># Kysymysten lyhyet versiot englanniksi</span></span>
<span id="cb3-928"><a href="liitteet.html#cb3-928"></a>tabVarDesc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Q1a Working mother can have warm relation with child &quot;</span>,</span>
<span id="cb3-929"><a href="liitteet.html#cb3-929"></a>                <span class="st">&quot;Q1b Pre-school child suffers through working mother&quot;</span>,</span>
<span id="cb3-930"><a href="liitteet.html#cb3-930"></a>                <span class="st">&quot;Q1c Family life suffers through working mother&quot;</span>,</span>
<span id="cb3-931"><a href="liitteet.html#cb3-931"></a>                <span class="st">&quot;Q1d Women’s preference: home and children&quot;</span>,</span>
<span id="cb3-932"><a href="liitteet.html#cb3-932"></a>                <span class="st">&quot;Q1e Being housewife is satisfying&quot;</span>,</span>
<span id="cb3-933"><a href="liitteet.html#cb3-933"></a>                <span class="st">&quot;Q2a Both should contribute to household income&quot;</span>,</span>
<span id="cb3-934"><a href="liitteet.html#cb3-934"></a>                <span class="st">&quot;Q2b Men’s job is earn money, women’s job household&quot;</span>,</span>
<span id="cb3-935"><a href="liitteet.html#cb3-935"></a>                <span class="st">&quot;Q3a Should women work: Child under school age&quot;</span>,</span>
<span id="cb3-936"><a href="liitteet.html#cb3-936"></a>                <span class="st">&quot;Q3b Should women work: Youngest kid at school&quot;</span>,</span>
<span id="cb3-937"><a href="liitteet.html#cb3-937"></a>                <span class="st">&quot;Respondents age &quot;</span>,</span>
<span id="cb3-938"><a href="liitteet.html#cb3-938"></a>                <span class="st">&quot;Respondents gender&quot;</span>,</span>
<span id="cb3-939"><a href="liitteet.html#cb3-939"></a>                <span class="st">&quot;Highest completed degree of education: Categories for international comparison&quot;</span>,</span>
<span id="cb3-940"><a href="liitteet.html#cb3-940"></a>                <span class="st">&quot;Main status: work, unemployed, in education...&quot;</span>,</span>
<span id="cb3-941"><a href="liitteet.html#cb3-941"></a>                <span class="st">&quot;Top-Bottom self-placement (10 pt scale)&quot;</span>,</span>
<span id="cb3-942"><a href="liitteet.html#cb3-942"></a>                <span class="st">&quot;How many children in household: children between [school age] and 17 years of age&quot;</span>,</span>
<span id="cb3-943"><a href="liitteet.html#cb3-943"></a>                <span class="st">&quot;Legal partnership status: married, civil partership...&quot;</span>,</span>
<span id="cb3-944"><a href="liitteet.html#cb3-944"></a>                <span class="st">&quot;Place of living: urban - rural&quot;</span></span>
<span id="cb3-945"><a href="liitteet.html#cb3-945"></a>              )</span>
<span id="cb3-946"><a href="liitteet.html#cb3-946"></a><span class="co">#tabVarDesc</span></span>
<span id="cb3-947"><a href="liitteet.html#cb3-947"></a></span>
<span id="cb3-948"><a href="liitteet.html#cb3-948"></a><span class="co"># Taulukko</span></span>
<span id="cb3-949"><a href="liitteet.html#cb3-949"></a></span>
<span id="cb3-950"><a href="liitteet.html#cb3-950"></a><span class="co"># luodaan df - varoitus: data_frame() is deprecated, use tibble” (4.2.20),</span></span>
<span id="cb3-951"><a href="liitteet.html#cb3-951"></a><span class="co"># vaihdetaan tibbleen (21.2.20)</span></span>
<span id="cb3-952"><a href="liitteet.html#cb3-952"></a></span>
<span id="cb3-953"><a href="liitteet.html#cb3-953"></a><span class="co"># jhVarTable1.df &lt;- data_frame(tabVarnames,tabVarDesc) OLD</span></span>
<span id="cb3-954"><a href="liitteet.html#cb3-954"></a>jhVarTable1.tbl &lt;-<span class="st"> </span><span class="kw">tibble</span>(tabVarnames,tabVarDesc)</span>
<span id="cb3-955"><a href="liitteet.html#cb3-955"></a>cols_jhVarTable1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;muuttuja&quot;</span>,<span class="st">&quot;kysymyksen tunnus, lyhennetty kysymys&quot;</span>)</span>
<span id="cb3-956"><a href="liitteet.html#cb3-956"></a><span class="kw">colnames</span>(jhVarTable1.tbl) &lt;-<span class="st"> </span>cols_jhVarTable1</span>
<span id="cb3-957"><a href="liitteet.html#cb3-957"></a><span class="co">#str(jhVarTable1.tbl)</span></span>
<span id="cb3-958"><a href="liitteet.html#cb3-958"></a><span class="co"># Lyhyet kysymykset englanniksi</span></span>
<span id="cb3-959"><a href="liitteet.html#cb3-959"></a></span>
<span id="cb3-960"><a href="liitteet.html#cb3-960"></a>knitr<span class="op">::</span><span class="kw">kable</span>(jhVarTable1.tbl, <span class="dt">booktab =</span> <span class="ot">TRUE</span>,</span>
<span id="cb3-961"><a href="liitteet.html#cb3-961"></a>               <span class="dt">caption =</span> <span class="st">&quot;ISSP2012:Työelämä ja perhearvot - kysymykset&quot;</span>)</span>
<span id="cb3-962"><a href="liitteet.html#cb3-962"></a></span>
<span id="cb3-963"><a href="liitteet.html#cb3-963"></a>knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&#39;img/substvar_fi_Q1Q2.png&#39;</span>)</span>
<span id="cb3-964"><a href="liitteet.html#cb3-964"></a><span class="co"># UUSI DATA 30.1.20</span></span>
<span id="cb3-965"><a href="liitteet.html#cb3-965"></a><span class="co">#</span></span>
<span id="cb3-966"><a href="liitteet.html#cb3-966"></a><span class="co"># LUETAAN DATA G1_1_data2.Rmd - tiedostossa, luodaan faktorimuuttujat</span></span>
<span id="cb3-967"><a href="liitteet.html#cb3-967"></a><span class="co"># G1_1_data_fct1.Rmd-tiedostossa -&gt; ISSP2012jh1d.dat (df)</span></span>
<span id="cb3-968"><a href="liitteet.html#cb3-968"></a><span class="co"># 23 muuttujaa (9 substanssimuuttujaa, 8 taustamuuttujaa, 3 maa-muuttujaa, 3 metadatamuuttujaa)</span></span>
<span id="cb3-969"><a href="liitteet.html#cb3-969"></a><span class="co"># 25 maata.</span></span>
<span id="cb3-970"><a href="liitteet.html#cb3-970"></a><span class="co"># Poistettu 146 havaintoa, joilla SEX tai AGE puuttuu</span></span>
<span id="cb3-971"><a href="liitteet.html#cb3-971"></a><span class="co"># Johdattelevassa esimerkissä kuusi maata, kaksi taustamuuttujaa ja yksi kysymys</span></span>
<span id="cb3-972"><a href="liitteet.html#cb3-972"></a><span class="co"># (V6/Q1b)</span></span>
<span id="cb3-973"><a href="liitteet.html#cb3-973"></a></span>
<span id="cb3-974"><a href="liitteet.html#cb3-974"></a></span>
<span id="cb3-975"><a href="liitteet.html#cb3-975"></a><span class="co"># Kuusi maata</span></span>
<span id="cb3-976"><a href="liitteet.html#cb3-976"></a></span>
<span id="cb3-977"><a href="liitteet.html#cb3-977"></a>countries_esim1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">56</span>, <span class="dv">100</span>, <span class="dv">208</span>, <span class="dv">246</span>, <span class="dv">276</span>, <span class="dv">348</span>) <span class="co">#BE,BG,DK,FI,DE,HU</span></span>
<span id="cb3-978"><a href="liitteet.html#cb3-978"></a>ISSP2012esim3.dat &lt;-<span class="st"> </span><span class="kw">filter</span>(ISSP2012jh1d.dat, V4 <span class="op">%in%</span><span class="st"> </span>countries_esim1)</span>
<span id="cb3-979"><a href="liitteet.html#cb3-979"></a><span class="co"># str(ISSP2012esim3.dat) - pitkä listaus pois (24.2.20)</span></span>
<span id="cb3-980"><a href="liitteet.html#cb3-980"></a></span>
<span id="cb3-981"><a href="liitteet.html#cb3-981"></a><span class="co">#neljä maamuuttujaa, kysymys Q1b, ikä ja sukupuoli</span></span>
<span id="cb3-982"><a href="liitteet.html#cb3-982"></a></span>
<span id="cb3-983"><a href="liitteet.html#cb3-983"></a>vars_esim1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;C_ALPHAN&quot;</span>, <span class="st">&quot;V3&quot;</span>, <span class="st">&quot;maa&quot;</span>,<span class="st">&quot;maa3&quot;</span>, <span class="st">&quot;Q1b&quot;</span>, <span class="st">&quot;sp&quot;</span>, <span class="st">&quot;ika&quot;</span>)</span>
<span id="cb3-984"><a href="liitteet.html#cb3-984"></a>ISSP2012esim2.dat &lt;-<span class="st"> </span><span class="kw">select</span>(ISSP2012esim3.dat, <span class="kw">all_of</span>(vars_esim1))</span>
<span id="cb3-985"><a href="liitteet.html#cb3-985"></a></span>
<span id="cb3-986"><a href="liitteet.html#cb3-986"></a><span class="kw">str</span>(ISSP2012esim2.dat) <span class="co"># 8542 obs. of  7 variables, ja sama 8.6.2020</span></span>
<span id="cb3-987"><a href="liitteet.html#cb3-987"></a><span class="co"># C_ALPHAN: chr, maa: Factor w/ 25</span></span>
<span id="cb3-988"><a href="liitteet.html#cb3-988"></a></span>
<span id="cb3-989"><a href="liitteet.html#cb3-989"></a><span class="co"># Poistetaan havainnot, joilla Q1b - muuttujassa puuttuva tieto &#39;NA&#39;</span></span>
<span id="cb3-990"><a href="liitteet.html#cb3-990"></a><span class="co"># sum(is.na(ISSP2012esim2.dat$Q1b)) = 399</span></span>
<span id="cb3-991"><a href="liitteet.html#cb3-991"></a></span>
<span id="cb3-992"><a href="liitteet.html#cb3-992"></a>ISSP2012esim1.dat &lt;-<span class="st"> </span><span class="kw">filter</span>(ISSP2012esim2.dat, <span class="op">!</span><span class="kw">is.na</span>(Q1b))</span>
<span id="cb3-993"><a href="liitteet.html#cb3-993"></a></span>
<span id="cb3-994"><a href="liitteet.html#cb3-994"></a><span class="co">#str(ISSP2012esim1.dat) # 8143 obs. of  6 variable</span></span>
<span id="cb3-995"><a href="liitteet.html#cb3-995"></a></span>
<span id="cb3-996"><a href="liitteet.html#cb3-996"></a><span class="co"># Tarkistuksia (3.2.20)</span></span>
<span id="cb3-997"><a href="liitteet.html#cb3-997"></a><span class="co">#</span></span>
<span id="cb3-998"><a href="liitteet.html#cb3-998"></a><span class="co">#fct_count(ISSP2012esim1.dat$sp)</span></span>
<span id="cb3-999"><a href="liitteet.html#cb3-999"></a><span class="co">#fct_count(ISSP2012esim1.dat$Q1b)</span></span>
<span id="cb3-1000"><a href="liitteet.html#cb3-1000"></a><span class="co">#fct_count(ISSP2012esim1.dat$maa)</span></span>
<span id="cb3-1001"><a href="liitteet.html#cb3-1001"></a><span class="co">#fct_count(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1002"><a href="liitteet.html#cb3-1002"></a><span class="co">#</span></span>
<span id="cb3-1003"><a href="liitteet.html#cb3-1003"></a><span class="co">#summary(ISSP2012esim1.dat$sp)</span></span>
<span id="cb3-1004"><a href="liitteet.html#cb3-1004"></a><span class="co">#sp: 3799 + 4344 = 8143</span></span>
<span id="cb3-1005"><a href="liitteet.html#cb3-1005"></a><span class="co">#summary(ISSP2012esim1.dat$Q1b)</span></span>
<span id="cb3-1006"><a href="liitteet.html#cb3-1006"></a><span class="co">#  S      s      ?     e      E</span></span>
<span id="cb3-1007"><a href="liitteet.html#cb3-1007"></a><span class="co"># 810 + 1935 + 1367 + 2125 + 1906 = 8143</span></span>
<span id="cb3-1008"><a href="liitteet.html#cb3-1008"></a><span class="co">#</span></span>
<span id="cb3-1009"><a href="liitteet.html#cb3-1009"></a><span class="co"># EDELLINEN DATA - havaintojen määrät samat kuin uudella datalla (31.1.20)</span></span>
<span id="cb3-1010"><a href="liitteet.html#cb3-1010"></a><span class="co">#</span></span>
<span id="cb3-1011"><a href="liitteet.html#cb3-1011"></a><span class="co"># 8557 obs. ennen kuin sexagemissing poistettiin, nyt 8542, 8557-8542 = 15</span></span>
<span id="cb3-1012"><a href="liitteet.html#cb3-1012"></a><span class="co">#</span></span>
<span id="cb3-1013"><a href="liitteet.html#cb3-1013"></a><span class="co"># Poistetaan havainnot joissa puuttuva tieto muuttujassa V6 (Q1b) n = 399</span></span>
<span id="cb3-1014"><a href="liitteet.html#cb3-1014"></a><span class="co"># 8542-399 = 8143</span></span>
<span id="cb3-1015"><a href="liitteet.html#cb3-1015"></a></span>
<span id="cb3-1016"><a href="liitteet.html#cb3-1016"></a><span class="co"># Tyhjät &quot;faktorilabelit&quot; on poistettava</span></span>
<span id="cb3-1017"><a href="liitteet.html#cb3-1017"></a></span>
<span id="cb3-1018"><a href="liitteet.html#cb3-1018"></a> ISSP2012esim1.dat &lt;-<span class="st"> </span>ISSP2012esim1.dat <span class="op">%&gt;%</span></span>
<span id="cb3-1019"><a href="liitteet.html#cb3-1019"></a><span class="st">     </span><span class="kw">mutate</span>(<span class="dt">maa =</span> <span class="kw">fct_drop</span>(maa),</span>
<span id="cb3-1020"><a href="liitteet.html#cb3-1020"></a>            <span class="dt">maa3 =</span> <span class="kw">fct_drop</span>(maa3)</span>
<span id="cb3-1021"><a href="liitteet.html#cb3-1021"></a>            )</span>
<span id="cb3-1022"><a href="liitteet.html#cb3-1022"></a></span>
<span id="cb3-1023"><a href="liitteet.html#cb3-1023"></a><span class="co">#summary(ISSP2012esim1.dat$maa)</span></span>
<span id="cb3-1024"><a href="liitteet.html#cb3-1024"></a><span class="co">#summary(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1025"><a href="liitteet.html#cb3-1025"></a><span class="co">#</span></span>
<span id="cb3-1026"><a href="liitteet.html#cb3-1026"></a><span class="co"># str(ISSP2012esim1.dat$maa)</span></span>
<span id="cb3-1027"><a href="liitteet.html#cb3-1027"></a><span class="co"># attributes(ISSP2012esim1.dat$maa)</span></span>
<span id="cb3-1028"><a href="liitteet.html#cb3-1028"></a><span class="co">#</span></span>
<span id="cb3-1029"><a href="liitteet.html#cb3-1029"></a><span class="co"># str(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1030"><a href="liitteet.html#cb3-1030"></a><span class="co"># attributes(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1031"><a href="liitteet.html#cb3-1031"></a><span class="co">#</span></span>
<span id="cb3-1032"><a href="liitteet.html#cb3-1032"></a><span class="co">#ISSP2012esim1.dat %&gt;% tableX(maa, Q1b, type = &quot;count&quot;)</span></span>
<span id="cb3-1033"><a href="liitteet.html#cb3-1033"></a><span class="co">#fct_count(ISSP2012esim1.dat$Q1b)</span></span>
<span id="cb3-1034"><a href="liitteet.html#cb3-1034"></a><span class="co"># fct_count(ISSP2012esim1.dat$sp)</span></span>
<span id="cb3-1035"><a href="liitteet.html#cb3-1035"></a><span class="co"># fct_unique(ISSP2012esim1.dat$maa)</span></span>
<span id="cb3-1036"><a href="liitteet.html#cb3-1036"></a><span class="co"># fct_count(ISSP2012esim1.dat$maa)</span></span>
<span id="cb3-1037"><a href="liitteet.html#cb3-1037"></a><span class="co">#ISSP2012esim1.dat %&gt;% tableX(maa, C_ALPHAN, type = &quot;count&quot;)</span></span>
<span id="cb3-1038"><a href="liitteet.html#cb3-1038"></a><span class="co">#</span></span>
<span id="cb3-1039"><a href="liitteet.html#cb3-1039"></a><span class="co"># maa3 - siistitään &quot;faktorilabelit&quot; kaksikirjaimisiksi</span></span>
<span id="cb3-1040"><a href="liitteet.html#cb3-1040"></a><span class="co">#</span></span>
<span id="cb3-1041"><a href="liitteet.html#cb3-1041"></a><span class="co"># ISO 3166 Code V3 - maiden jaot</span></span>
<span id="cb3-1042"><a href="liitteet.html#cb3-1042"></a><span class="co">#  5601     BE-FLA-Belgium/ Flanders</span></span>
<span id="cb3-1043"><a href="liitteet.html#cb3-1043"></a><span class="co">#  5602     BE-WAL-Belgium/ Wallonia</span></span>
<span id="cb3-1044"><a href="liitteet.html#cb3-1044"></a><span class="co">#  5603     BE-BRU-Belgium/ Brussels</span></span>
<span id="cb3-1045"><a href="liitteet.html#cb3-1045"></a><span class="co"># 27601     DE-W-Germany-West</span></span>
<span id="cb3-1046"><a href="liitteet.html#cb3-1046"></a><span class="co"># 27602     DE-E-Germany-East</span></span>
<span id="cb3-1047"><a href="liitteet.html#cb3-1047"></a><span class="co"># Tähän pitäisi päästä</span></span>
<span id="cb3-1048"><a href="liitteet.html#cb3-1048"></a><span class="co"># levels = c(&quot;100&quot;,&quot;208&quot;,&quot;246&quot;,&quot;348&quot;,&quot;5601&quot;,&quot;5602&quot;,&quot;5603&quot;,&quot;27601&quot;,&quot;27602&quot;),</span></span>
<span id="cb3-1049"><a href="liitteet.html#cb3-1049"></a><span class="co"># labels = c(&quot;BG&quot;,&quot;DK&quot;,&quot;FI&quot;,&quot;HU&quot;,&quot;bF&quot;,&quot;bW&quot;,&quot;bB&quot;,&quot;dW&quot;,&quot;dE&quot;))</span></span>
<span id="cb3-1050"><a href="liitteet.html#cb3-1050"></a><span class="co"># levels(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1051"><a href="liitteet.html#cb3-1051"></a></span>
<span id="cb3-1052"><a href="liitteet.html#cb3-1052"></a>ISSP2012esim1.dat &lt;-<span class="st"> </span>ISSP2012esim1.dat <span class="op">%&gt;%</span></span>
<span id="cb3-1053"><a href="liitteet.html#cb3-1053"></a><span class="st">        </span><span class="kw">mutate</span>(<span class="dt">maa3 =</span></span>
<span id="cb3-1054"><a href="liitteet.html#cb3-1054"></a>                <span class="kw">fct_recode</span>(maa3,</span>
<span id="cb3-1055"><a href="liitteet.html#cb3-1055"></a>                 <span class="st">&quot;BG&quot;</span> =<span class="st"> &quot;BG-Bulgaria&quot;</span>,</span>
<span id="cb3-1056"><a href="liitteet.html#cb3-1056"></a>                 <span class="st">&quot;DK&quot;</span> =<span class="st"> &quot;DK-Denmark&quot;</span>,</span>
<span id="cb3-1057"><a href="liitteet.html#cb3-1057"></a>                 <span class="st">&quot;FI&quot;</span> =<span class="st"> &quot;FI-Finland&quot;</span>,</span>
<span id="cb3-1058"><a href="liitteet.html#cb3-1058"></a>                 <span class="st">&quot;HU&quot;</span> =<span class="st"> &quot;HU-Hungary&quot;</span>,</span>
<span id="cb3-1059"><a href="liitteet.html#cb3-1059"></a>                 <span class="st">&quot;bF&quot;</span> =<span class="st"> &quot;BE-FLA-Belgium/ Flanders&quot;</span>,</span>
<span id="cb3-1060"><a href="liitteet.html#cb3-1060"></a>                 <span class="st">&quot;bW&quot;</span> =<span class="st"> &quot;BE-WAL-Belgium/ Wallonia&quot;</span>,</span>
<span id="cb3-1061"><a href="liitteet.html#cb3-1061"></a>                 <span class="st">&quot;bB&quot;</span> =<span class="st"> &quot;BE-BRU-Belgium/ Brussels&quot;</span>,</span>
<span id="cb3-1062"><a href="liitteet.html#cb3-1062"></a>                 <span class="st">&quot;dW&quot;</span> =<span class="st"> &quot;DE-W-Germany-West&quot;</span>,</span>
<span id="cb3-1063"><a href="liitteet.html#cb3-1063"></a>                 <span class="st">&quot;dE&quot;</span> =<span class="st"> &quot;DE-E-Germany-East&quot;</span>)</span>
<span id="cb3-1064"><a href="liitteet.html#cb3-1064"></a>               )</span>
<span id="cb3-1065"><a href="liitteet.html#cb3-1065"></a><span class="co"># tarkistuksia</span></span>
<span id="cb3-1066"><a href="liitteet.html#cb3-1066"></a><span class="co">#levels(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1067"><a href="liitteet.html#cb3-1067"></a><span class="co"># str(ISSP2012esim1.dat$maa3) # 9 levels</span></span>
<span id="cb3-1068"><a href="liitteet.html#cb3-1068"></a><span class="co">#summary(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1069"><a href="liitteet.html#cb3-1069"></a><span class="co">#</span></span>
<span id="cb3-1070"><a href="liitteet.html#cb3-1070"></a><span class="co"># TÄSSÄ TOISTOA! (4.2.20)</span></span>
<span id="cb3-1071"><a href="liitteet.html#cb3-1071"></a><span class="co"># Muutetaan muuttujien &quot;maa&quot; ja &quot;maa3&quot; arvojen (levels) järjestys samaksi kuin</span></span>
<span id="cb3-1072"><a href="liitteet.html#cb3-1072"></a><span class="co"># alkuperäisen muuttujan C_ALPHAN. Helpomi verrata aikaisempiin tuloksiin.</span></span>
<span id="cb3-1073"><a href="liitteet.html#cb3-1073"></a></span>
<span id="cb3-1074"><a href="liitteet.html#cb3-1074"></a><span class="co"># &quot;alkuperäinen&quot; maa talteen</span></span>
<span id="cb3-1075"><a href="liitteet.html#cb3-1075"></a>ISSP2012esim1.dat<span class="op">$</span>maa2 &lt;-<span class="st"> </span>ISSP2012esim1.dat<span class="op">$</span>maa</span>
<span id="cb3-1076"><a href="liitteet.html#cb3-1076"></a></span>
<span id="cb3-1077"><a href="liitteet.html#cb3-1077"></a>ISSP2012esim1.dat &lt;-<span class="st"> </span>ISSP2012esim1.dat <span class="op">%&gt;%</span></span>
<span id="cb3-1078"><a href="liitteet.html#cb3-1078"></a><span class="st">        </span><span class="kw">mutate</span>(<span class="dt">maa =</span></span>
<span id="cb3-1079"><a href="liitteet.html#cb3-1079"></a>                <span class="kw">fct_relevel</span>(maa,</span>
<span id="cb3-1080"><a href="liitteet.html#cb3-1080"></a>                            <span class="st">&quot;BE&quot;</span>,</span>
<span id="cb3-1081"><a href="liitteet.html#cb3-1081"></a>                            <span class="st">&quot;BG&quot;</span>,</span>
<span id="cb3-1082"><a href="liitteet.html#cb3-1082"></a>                            <span class="st">&quot;DE&quot;</span>,</span>
<span id="cb3-1083"><a href="liitteet.html#cb3-1083"></a>                            <span class="st">&quot;DK&quot;</span>,</span>
<span id="cb3-1084"><a href="liitteet.html#cb3-1084"></a>                            <span class="st">&quot;FI&quot;</span>,</span>
<span id="cb3-1085"><a href="liitteet.html#cb3-1085"></a>                            <span class="st">&quot;HU&quot;</span>))</span>
<span id="cb3-1086"><a href="liitteet.html#cb3-1086"></a>ISSP2012esim1.dat &lt;-<span class="st"> </span>ISSP2012esim1.dat <span class="op">%&gt;%</span></span>
<span id="cb3-1087"><a href="liitteet.html#cb3-1087"></a><span class="st">        </span><span class="kw">mutate</span>(<span class="dt">maa3 =</span></span>
<span id="cb3-1088"><a href="liitteet.html#cb3-1088"></a>                <span class="kw">fct_relevel</span>(maa3,</span>
<span id="cb3-1089"><a href="liitteet.html#cb3-1089"></a>                        <span class="st">&quot;bF&quot;</span>,</span>
<span id="cb3-1090"><a href="liitteet.html#cb3-1090"></a>                        <span class="st">&quot;bW&quot;</span>,</span>
<span id="cb3-1091"><a href="liitteet.html#cb3-1091"></a>                        <span class="st">&quot;bB&quot;</span>,</span>
<span id="cb3-1092"><a href="liitteet.html#cb3-1092"></a>                        <span class="st">&quot;BG&quot;</span>,</span>
<span id="cb3-1093"><a href="liitteet.html#cb3-1093"></a>                        <span class="st">&quot;dW&quot;</span>,</span>
<span id="cb3-1094"><a href="liitteet.html#cb3-1094"></a>                        <span class="st">&quot;dE&quot;</span>,</span>
<span id="cb3-1095"><a href="liitteet.html#cb3-1095"></a>                        <span class="st">&quot;DK&quot;</span>,</span>
<span id="cb3-1096"><a href="liitteet.html#cb3-1096"></a>                        <span class="st">&quot;FI&quot;</span>,</span>
<span id="cb3-1097"><a href="liitteet.html#cb3-1097"></a>                        <span class="st">&quot;HU&quot;</span>))</span>
<span id="cb3-1098"><a href="liitteet.html#cb3-1098"></a></span>
<span id="cb3-1099"><a href="liitteet.html#cb3-1099"></a><span class="co"># Tarkistus</span></span>
<span id="cb3-1100"><a href="liitteet.html#cb3-1100"></a><span class="co">#ISSP2012esim1.dat %&gt;% tableX(maa2,maa, type = &quot;count&quot;)</span></span>
<span id="cb3-1101"><a href="liitteet.html#cb3-1101"></a><span class="co"># &quot;alkuperäinen&quot; maa talteenISSP2012esim1.dat %&gt;% tableX(maa,C_ALPHAN, type = &quot;count&quot;)</span></span>
<span id="cb3-1102"><a href="liitteet.html#cb3-1102"></a><span class="co"># &quot;alkuperäinen&quot; maa talteenstr(ISSP2012esim1.dat)</span></span>
<span id="cb3-1103"><a href="liitteet.html#cb3-1103"></a></span>
<span id="cb3-1104"><a href="liitteet.html#cb3-1104"></a><span class="co"># Taulukoita (31.1.2020) ja tarkistuksia</span></span>
<span id="cb3-1105"><a href="liitteet.html#cb3-1105"></a><span class="co">#</span></span>
<span id="cb3-1106"><a href="liitteet.html#cb3-1106"></a><span class="co"># toinen maa-muuttuja, jossa Saksan ja Belgian jako</span></span>
<span id="cb3-1107"><a href="liitteet.html#cb3-1107"></a><span class="co">#  V3</span></span>
<span id="cb3-1108"><a href="liitteet.html#cb3-1108"></a><span class="co">#  5601     BE-FLA-Belgium/ Flanders</span></span>
<span id="cb3-1109"><a href="liitteet.html#cb3-1109"></a><span class="co">#  5602     BE-WAL-Belgium/ Wallonia</span></span>
<span id="cb3-1110"><a href="liitteet.html#cb3-1110"></a><span class="co">#  5603     BE-BRU-Belgium/ Brussels</span></span>
<span id="cb3-1111"><a href="liitteet.html#cb3-1111"></a><span class="co"># 27601     DE-W-Germany-West</span></span>
<span id="cb3-1112"><a href="liitteet.html#cb3-1112"></a><span class="co"># 27602     DE-E-Germany-East</span></span>
<span id="cb3-1113"><a href="liitteet.html#cb3-1113"></a></span>
<span id="cb3-1114"><a href="liitteet.html#cb3-1114"></a><span class="co"># Tarkastuksia</span></span>
<span id="cb3-1115"><a href="liitteet.html#cb3-1115"></a></span>
<span id="cb3-1116"><a href="liitteet.html#cb3-1116"></a><span class="co"># assert_that ehkä tarpeeton - expect_equivalet testaa levelien</span></span>
<span id="cb3-1117"><a href="liitteet.html#cb3-1117"></a><span class="co"># järjestyksen ja määrän (20.2.20)</span></span>
<span id="cb3-1118"><a href="liitteet.html#cb3-1118"></a></span>
<span id="cb3-1119"><a href="liitteet.html#cb3-1119"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012esim1.dat<span class="op">$</span>sp)) <span class="op">==</span><span class="st"> </span><span class="dv">2</span>)</span>
<span id="cb3-1120"><a href="liitteet.html#cb3-1120"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012esim1.dat<span class="op">$</span>sp),</span>
<span id="cb3-1121"><a href="liitteet.html#cb3-1121"></a>                <span class="kw">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;f&quot;</span>)))</span>
<span id="cb3-1122"><a href="liitteet.html#cb3-1122"></a></span>
<span id="cb3-1123"><a href="liitteet.html#cb3-1123"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012esim1.dat<span class="op">$</span>maa)) <span class="op">==</span><span class="st"> </span><span class="dv">6</span>)</span>
<span id="cb3-1124"><a href="liitteet.html#cb3-1124"></a></span>
<span id="cb3-1125"><a href="liitteet.html#cb3-1125"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012esim1.dat<span class="op">$</span>maa),</span>
<span id="cb3-1126"><a href="liitteet.html#cb3-1126"></a>                  <span class="kw">c</span>(<span class="st">&quot;BE&quot;</span>, <span class="st">&quot;BG&quot;</span>, <span class="st">&quot;DE&quot;</span>, <span class="st">&quot;DK&quot;</span>, <span class="st">&quot;FI&quot;</span>, <span class="st">&quot;HU&quot;</span>)))</span>
<span id="cb3-1127"><a href="liitteet.html#cb3-1127"></a></span>
<span id="cb3-1128"><a href="liitteet.html#cb3-1128"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012esim1.dat<span class="op">$</span>maa3)) <span class="op">==</span><span class="st"> </span><span class="dv">9</span>)</span>
<span id="cb3-1129"><a href="liitteet.html#cb3-1129"></a></span>
<span id="cb3-1130"><a href="liitteet.html#cb3-1130"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012esim1.dat<span class="op">$</span>maa3),</span>
<span id="cb3-1131"><a href="liitteet.html#cb3-1131"></a>                 <span class="kw">c</span>(<span class="st">&quot;bF&quot;</span>,<span class="st">&quot;bW&quot;</span>,<span class="st">&quot;bB&quot;</span>, <span class="st">&quot;BG&quot;</span>,<span class="st">&quot;dW&quot;</span>,<span class="st">&quot;dE&quot;</span>,<span class="st">&quot;DK&quot;</span>, <span class="st">&quot;FI&quot;</span>, <span class="st">&quot;HU&quot;</span>)))</span>
<span id="cb3-1132"><a href="liitteet.html#cb3-1132"></a></span>
<span id="cb3-1133"><a href="liitteet.html#cb3-1133"></a><span class="kw">validate_that</span>(<span class="kw">length</span>(<span class="kw">levels</span>(ISSP2012esim1.dat<span class="op">$</span>Q1b)) <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</span>
<span id="cb3-1134"><a href="liitteet.html#cb3-1134"></a><span class="kw">validate_that</span>(<span class="kw">are_equal</span>(<span class="kw">levels</span>(ISSP2012esim1.dat<span class="op">$</span>Q1b),</span>
<span id="cb3-1135"><a href="liitteet.html#cb3-1135"></a>               <span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)))</span>
<span id="cb3-1136"><a href="liitteet.html#cb3-1136"></a></span>
<span id="cb3-1137"><a href="liitteet.html#cb3-1137"></a><span class="co"># testthat - paketti - pois käytöstä 16.9.20</span></span>
<span id="cb3-1138"><a href="liitteet.html#cb3-1138"></a><span class="co"># expect_ ei anna ok-ilmoitusta, ainoastaan virheilmoituksen? (11.4.20)</span></span>
<span id="cb3-1139"><a href="liitteet.html#cb3-1139"></a><span class="co"># expect_equivalent(levels(ISSP2012esim1.dat$maa),</span></span>
<span id="cb3-1140"><a href="liitteet.html#cb3-1140"></a><span class="co">#                  c(&quot;BE&quot;, &quot;BG&quot;, &quot;DE&quot;, &quot;DK&quot;, &quot;FI&quot;, &quot;HU&quot;))</span></span>
<span id="cb3-1141"><a href="liitteet.html#cb3-1141"></a><span class="co"># expect_equivalent(levels(ISSP2012esim1.dat$maa3),</span></span>
<span id="cb3-1142"><a href="liitteet.html#cb3-1142"></a><span class="co">#                  c(&quot;bF&quot;,&quot;bW&quot;,&quot;bB&quot;, &quot;BG&quot;,&quot;dW&quot;,&quot;dE&quot;,&quot;DK&quot;, &quot;FI&quot;, &quot;HU&quot;))</span></span>
<span id="cb3-1143"><a href="liitteet.html#cb3-1143"></a><span class="co"># expect_equivalent(levels(ISSP2012esim1.dat$sp), c(&quot;m&quot;, &quot;f&quot;))</span></span>
<span id="cb3-1144"><a href="liitteet.html#cb3-1144"></a><span class="co"># expect_equivalent(levels(ISSP2012esim1.dat$Q1b),</span></span>
<span id="cb3-1145"><a href="liitteet.html#cb3-1145"></a><span class="co">#                  c(&quot;S&quot;, &quot;s&quot;, &quot;?&quot;, &quot;e&quot;, &quot;E&quot;))</span></span>
<span id="cb3-1146"><a href="liitteet.html#cb3-1146"></a><span class="co">#</span></span>
<span id="cb3-1147"><a href="liitteet.html#cb3-1147"></a><span class="co"># ISSP2012esim1.dat %&gt;% tableX(maa,ika,type = &quot;row_perc&quot;)</span></span>
<span id="cb3-1148"><a href="liitteet.html#cb3-1148"></a><span class="co">#</span></span>
<span id="cb3-1149"><a href="liitteet.html#cb3-1149"></a><span class="co"># Riviprofiilit</span></span>
<span id="cb3-1150"><a href="liitteet.html#cb3-1150"></a><span class="co">#</span></span>
<span id="cb3-1151"><a href="liitteet.html#cb3-1151"></a><span class="co"># ISSP2012esim1.dat %&gt;% tableX(maa,ika,type = &quot;row_perc&quot;)</span></span>
<span id="cb3-1152"><a href="liitteet.html#cb3-1152"></a><span class="co"># ISSP2012esim1.dat %&gt;% tableX(maa,sp ,type = &quot;row_perc&quot;)</span></span>
<span id="cb3-1153"><a href="liitteet.html#cb3-1153"></a><span class="co">#</span></span>
<span id="cb3-1154"><a href="liitteet.html#cb3-1154"></a><span class="co">#</span></span>
<span id="cb3-1155"><a href="liitteet.html#cb3-1155"></a><span class="co"># Kysymyksen Q1b vastaukset</span></span>
<span id="cb3-1156"><a href="liitteet.html#cb3-1156"></a><span class="co">#</span></span>
<span id="cb3-1157"><a href="liitteet.html#cb3-1157"></a><span class="co">#ISSP2012esim1.dat %&gt;% tableX(maa,Q1b,type = &quot;row_perc&quot;)</span></span>
<span id="cb3-1158"><a href="liitteet.html#cb3-1158"></a><span class="co">#</span></span>
<span id="cb3-1159"><a href="liitteet.html#cb3-1159"></a><span class="co">#ISSP2012esim1.dat %&gt;% tableX(maa3,Q1b,type = &quot;row_perc&quot;)</span></span>
<span id="cb3-1160"><a href="liitteet.html#cb3-1160"></a><span class="co">#</span></span>
<span id="cb3-1161"><a href="liitteet.html#cb3-1161"></a><span class="co"># str(ISSP2012esim1.dat) # 8143 obs. of  7 variable,</span></span>
<span id="cb3-1162"><a href="liitteet.html#cb3-1162"></a><span class="co"># sama kuin vanhassa Galku-koodissa.</span></span>
<span id="cb3-1163"><a href="liitteet.html#cb3-1163"></a><span class="co">#</span></span>
<span id="cb3-1164"><a href="liitteet.html#cb3-1164"></a><span class="co"># str(ISSP2012esim1.dat) # 8143 obs. of  7 variable,</span></span>
<span id="cb3-1165"><a href="liitteet.html#cb3-1165"></a><span class="co"># sama kuin vanhassa Galku-koodissa.</span></span>
<span id="cb3-1166"><a href="liitteet.html#cb3-1166"></a></span>
<span id="cb3-1167"><a href="liitteet.html#cb3-1167"></a>taulu2 &lt;-<span class="st"> </span>ISSP2012esim1.dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tableX</span>(maa, Q1b, <span class="dt">type =</span> <span class="st">&quot;count&quot;</span>)</span>
<span id="cb3-1168"><a href="liitteet.html#cb3-1168"></a>knitr<span class="op">::</span><span class="kw">kable</span>(taulu2,<span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>,</span>
<span id="cb3-1169"><a href="liitteet.html#cb3-1169"></a>             <span class="dt">caption =</span> <span class="st">&quot;Kysymyksen Q1b vastaukset maittain&quot;</span>)</span>
<span id="cb3-1170"><a href="liitteet.html#cb3-1170"></a>taulu3 &lt;-<span class="st"> </span>ISSP2012esim1.dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tableX</span>(maa,Q1b,<span class="dt">type =</span> <span class="st">&quot;row_perc&quot;</span>)</span>
<span id="cb3-1171"><a href="liitteet.html#cb3-1171"></a></span>
<span id="cb3-1172"><a href="liitteet.html#cb3-1172"></a>knitr<span class="op">::</span><span class="kw">kable</span>(taulu3,<span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>,</span>
<span id="cb3-1173"><a href="liitteet.html#cb3-1173"></a>             <span class="dt">caption =</span> <span class="st">&quot;Kysymyksen Q1b vastaukset, riviprosentit&quot;</span>)</span>
<span id="cb3-1174"><a href="liitteet.html#cb3-1174"></a>taulu4 &lt;-<span class="st"> </span>ISSP2012esim1.dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tableX</span>(maa,Q1b,<span class="dt">type =</span> <span class="st">&quot;col_perc&quot;</span>)</span>
<span id="cb3-1175"><a href="liitteet.html#cb3-1175"></a></span>
<span id="cb3-1176"><a href="liitteet.html#cb3-1176"></a>knitr<span class="op">::</span><span class="kw">kable</span>(taulu4,<span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>,</span>
<span id="cb3-1177"><a href="liitteet.html#cb3-1177"></a>             <span class="dt">caption =</span> <span class="st">&quot;Kysymyksen Q1b vastaukset, sarakeprosentit&quot;</span>)</span>
<span id="cb3-1178"><a href="liitteet.html#cb3-1178"></a></span>
<span id="cb3-1179"><a href="liitteet.html#cb3-1179"></a><span class="co"># CA tässä, jotta saadaan rivi- ja sarakeprofiilikuvat</span></span>
<span id="cb3-1180"><a href="liitteet.html#cb3-1180"></a><span class="co"># Lasketaan samalla CA-ratkaisu riviprofiilitaulkolle (maille samat painot)</span></span>
<span id="cb3-1181"><a href="liitteet.html#cb3-1181"></a></span>
<span id="cb3-1182"><a href="liitteet.html#cb3-1182"></a>simpleCA1 &lt;-<span class="st"> </span><span class="kw">ca</span>(<span class="op">~</span>maa <span class="op">+</span><span class="st"> </span>Q1b,ISSP2012esim1.dat)</span>
<span id="cb3-1183"><a href="liitteet.html#cb3-1183"></a></span>
<span id="cb3-1184"><a href="liitteet.html#cb3-1184"></a><span class="co"># Maiden järjestys kääntää kuvan (1.2.20) - esimerkki on</span></span>
<span id="cb3-1185"><a href="liitteet.html#cb3-1185"></a><span class="co"># vähän kuriositeetti. Kartta voi tietysti &quot;flipata&quot; koordintaattien suhteen ainakin</span></span>
<span id="cb3-1186"><a href="liitteet.html#cb3-1186"></a><span class="co"># neljällä tavalla (? 180 astetta molempien akseleiden ympäri molempiin suuntiin?)</span></span>
<span id="cb3-1187"><a href="liitteet.html#cb3-1187"></a><span class="co"># (18.2.20). Tämän maa2-muuttujaa käyttävän kuvan voi jättää pois (8.4.20)</span></span>
<span id="cb3-1188"><a href="liitteet.html#cb3-1188"></a></span>
<span id="cb3-1189"><a href="liitteet.html#cb3-1189"></a><span class="co"># simpleCA2 &lt;- ca(~maa2 + Q1b,ISSP2012esim1.dat)</span></span>
<span id="cb3-1190"><a href="liitteet.html#cb3-1190"></a></span>
<span id="cb3-1191"><a href="liitteet.html#cb3-1191"></a><span class="co"># Oikeastaan maiden vertailussa pitäisi niiden massat skaalata yhtä suuriksi, tässä</span></span>
<span id="cb3-1192"><a href="liitteet.html#cb3-1192"></a><span class="co"># pikainen kokeilu (20.2.20)</span></span>
<span id="cb3-1193"><a href="liitteet.html#cb3-1193"></a><span class="co"># Riviprosentit taulukoksi, nimet sarakkeille ja riveille (ei kovin robustia...)</span></span>
<span id="cb3-1194"><a href="liitteet.html#cb3-1194"></a></span>
<span id="cb3-1195"><a href="liitteet.html#cb3-1195"></a></span>
<span id="cb3-1196"><a href="liitteet.html#cb3-1196"></a>johdesim1_rowproc.tab &lt;-<span class="st"> </span>simpleCA1<span class="op">$</span>N <span class="op">/</span><span class="st"> </span><span class="kw">rowSums</span>(simpleCA1<span class="op">$</span>N)</span>
<span id="cb3-1197"><a href="liitteet.html#cb3-1197"></a><span class="kw">colnames</span>(johdesim1_rowproc.tab) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;S&quot;</span> ,<span class="st">&quot;s&quot;</span> ,<span class="st">&quot;?&quot;</span>,<span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)</span>
<span id="cb3-1198"><a href="liitteet.html#cb3-1198"></a><span class="kw">rownames</span>(johdesim1_rowproc.tab) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;BE&quot;</span>, <span class="st">&quot;BG&quot;</span>, <span class="st">&quot;DE&quot;</span>, <span class="st">&quot;DK&quot;</span>, <span class="st">&quot;FI&quot;</span>, <span class="st">&quot;HU&quot;</span>)</span>
<span id="cb3-1199"><a href="liitteet.html#cb3-1199"></a></span>
<span id="cb3-1200"><a href="liitteet.html#cb3-1200"></a><span class="co"># Miten tibblenä? Ei toimi, ei maa-muuttujaa ollenkaan</span></span>
<span id="cb3-1201"><a href="liitteet.html#cb3-1201"></a><span class="co"># johdesim1_rowproc.tbl &lt;- as_tibble(johdesim1_rowproc.tab)</span></span>
<span id="cb3-1202"><a href="liitteet.html#cb3-1202"></a><span class="co"># str(johdesim1_rowproc.tbl)</span></span>
<span id="cb3-1203"><a href="liitteet.html#cb3-1203"></a></span>
<span id="cb3-1204"><a href="liitteet.html#cb3-1204"></a><span class="co"># TARKISTUKSIA (20.2.20)</span></span>
<span id="cb3-1205"><a href="liitteet.html#cb3-1205"></a><span class="co"># johdesim1_rowproc.tab</span></span>
<span id="cb3-1206"><a href="liitteet.html#cb3-1206"></a><span class="co"># rowSums(johdesim1_rowproc.tab)</span></span>
<span id="cb3-1207"><a href="liitteet.html#cb3-1207"></a><span class="co"># str(johdesim1_rowproc.tab)</span></span>
<span id="cb3-1208"><a href="liitteet.html#cb3-1208"></a></span>
<span id="cb3-1209"><a href="liitteet.html#cb3-1209"></a></span>
<span id="cb3-1210"><a href="liitteet.html#cb3-1210"></a>simpleCA3 &lt;-<span class="st"> </span><span class="kw">ca</span>(johdesim1_rowproc.tab)</span>
<span id="cb3-1211"><a href="liitteet.html#cb3-1211"></a></span>
<span id="cb3-1212"><a href="liitteet.html#cb3-1212"></a></span>
<span id="cb3-1213"><a href="liitteet.html#cb3-1213"></a><span class="co"># Kartta piirretään koodilohkossa simpleCAmap1, r. 773 noin.</span></span>
<span id="cb3-1214"><a href="liitteet.html#cb3-1214"></a></span>
<span id="cb3-1215"><a href="liitteet.html#cb3-1215"></a><span class="co"># Riviprosentit tarkistusta varten</span></span>
<span id="cb3-1216"><a href="liitteet.html#cb3-1216"></a><span class="co">#        S  s   ?   e   E</span></span>
<span id="cb3-1217"><a href="liitteet.html#cb3-1217"></a><span class="co">#BE 9.49    22.40   21.76   27.42   18.93</span></span>
<span id="cb3-1218"><a href="liitteet.html#cb3-1218"></a><span class="co">#BG 12.81   42.89   22.26   20.63   1.41</span></span>
<span id="cb3-1219"><a href="liitteet.html#cb3-1219"></a><span class="co">#DE 9.63    21.88   11.55   31.39   25.55</span></span>
<span id="cb3-1220"><a href="liitteet.html#cb3-1220"></a><span class="co">#DK 5.04    17.15   10.95   16.71   50.14</span></span>
<span id="cb3-1221"><a href="liitteet.html#cb3-1221"></a><span class="co">#FI 4.23    16.94   13.42   38.11   27.30</span></span>
<span id="cb3-1222"><a href="liitteet.html#cb3-1222"></a><span class="co">#HU 21.97   28.89   22.57   19.06   7.52</span></span>
<span id="cb3-1223"><a href="liitteet.html#cb3-1223"></a><span class="co">#</span></span>
<span id="cb3-1224"><a href="liitteet.html#cb3-1224"></a><span class="co"># Ja datan saa leikepöydän kautta, jos on tarve pikatarkistuksiin</span></span>
<span id="cb3-1225"><a href="liitteet.html#cb3-1225"></a><span class="co"># read &lt;- read.table(&quot;clipboard&quot;)</span></span>
<span id="cb3-1226"><a href="liitteet.html#cb3-1226"></a></span>
<span id="cb3-1227"><a href="liitteet.html#cb3-1227"></a><span class="co">#mutkikas kuvan piirto - sarakeprofiilit vertailussa</span></span>
<span id="cb3-1228"><a href="liitteet.html#cb3-1228"></a><span class="co">#ggplot vaatii df-rakenteen ja &#39;long data&#39; - muotoon</span></span>
<span id="cb3-1229"><a href="liitteet.html#cb3-1229"></a><span class="co">##https://stackoverflow.com/questions/9563368/create-stacked-barplot</span></span>
<span id="cb3-1230"><a href="liitteet.html#cb3-1230"></a><span class="co"># -where-each-stack-is-scaled-to-sum-to</span></span>
<span id="cb3-1231"><a href="liitteet.html#cb3-1231"></a><span class="co"># Pitkä https-linkki kahdella rivillä</span></span>
<span id="cb3-1232"><a href="liitteet.html#cb3-1232"></a><span class="co">#</span></span>
<span id="cb3-1233"><a href="liitteet.html#cb3-1233"></a><span class="co"># käytetään ca - tuloksia</span></span>
<span id="cb3-1234"><a href="liitteet.html#cb3-1234"></a>apu1 &lt;-<span class="st"> </span>(simpleCA1<span class="op">$</span>N)</span>
<span id="cb3-1235"><a href="liitteet.html#cb3-1235"></a><span class="kw">colnames</span>(apu1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;S&quot;</span>, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;?&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)</span>
<span id="cb3-1236"><a href="liitteet.html#cb3-1236"></a><span class="kw">rownames</span>(apu1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;BE&quot;</span>, <span class="st">&quot;BG&quot;</span>, <span class="st">&quot;DE&quot;</span>, <span class="st">&quot;DK&quot;</span>, <span class="st">&quot;FI&quot;</span>, <span class="st">&quot;HU&quot;</span>)</span>
<span id="cb3-1237"><a href="liitteet.html#cb3-1237"></a>apu1_df &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(apu1)</span>
<span id="cb3-1238"><a href="liitteet.html#cb3-1238"></a><span class="co">#lasketan rivien reunajakauma</span></span>
<span id="cb3-1239"><a href="liitteet.html#cb3-1239"></a>apu1_df<span class="op">$</span>ka_sarake &lt;-<span class="st"> </span><span class="kw">rowSums</span>(apu1_df)</span>
<span id="cb3-1240"><a href="liitteet.html#cb3-1240"></a><span class="co">#muokataan &#39;long data&#39; - muotoon</span></span>
<span id="cb3-1241"><a href="liitteet.html#cb3-1241"></a>apu1b_df &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">cbind</span>(apu1_df, <span class="dt">ind =</span> <span class="kw">rownames</span>(apu1_df)), <span class="dt">id.vars =</span> <span class="kw">c</span>(<span class="st">&#39;ind&#39;</span>))</span>
<span id="cb3-1242"><a href="liitteet.html#cb3-1242"></a></span>
<span id="cb3-1243"><a href="liitteet.html#cb3-1243"></a>p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(apu1b_df, <span class="kw">aes</span>(<span class="dt">x =</span> variable, <span class="dt">y =</span> value, <span class="dt">fill =</span> ind)) <span class="op">+</span></span>
<span id="cb3-1244"><a href="liitteet.html#cb3-1244"></a><span class="st">         </span><span class="kw">geom_bar</span>(<span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></span>
<span id="cb3-1245"><a href="liitteet.html#cb3-1245"></a><span class="st">         </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot; &quot;</span>,<span class="dt">labels =</span> <span class="kw">percent_format</span>())</span>
<span id="cb3-1246"><a href="liitteet.html#cb3-1246"></a>p &lt;-<span class="st"> </span>p <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;maa&quot;</span>)</span>
<span id="cb3-1247"><a href="liitteet.html#cb3-1247"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">scale_x_discrete</span>(<span class="dt">name =</span> <span class="st">&quot;Q1b - vastauskategoriat&quot;</span>)</span>
<span id="cb3-1248"><a href="liitteet.html#cb3-1248"></a><span class="co"># apu1_df</span></span>
<span id="cb3-1249"><a href="liitteet.html#cb3-1249"></a><span class="co"># apu1b_df</span></span>
<span id="cb3-1250"><a href="liitteet.html#cb3-1250"></a></span>
<span id="cb3-1251"><a href="liitteet.html#cb3-1251"></a><span class="co"># riviprofiilit ja keskiarvorivi -  18.9.2018</span></span>
<span id="cb3-1252"><a href="liitteet.html#cb3-1252"></a>apu2_df &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(apu1)</span>
<span id="cb3-1253"><a href="liitteet.html#cb3-1253"></a>apu2_df &lt;-<span class="st"> </span><span class="kw">rbind</span>(apu2_df, <span class="dt">ka_rivi =</span> <span class="kw">colSums</span>(apu2_df))</span>
<span id="cb3-1254"><a href="liitteet.html#cb3-1254"></a></span>
<span id="cb3-1255"><a href="liitteet.html#cb3-1255"></a><span class="co">#apu2_df</span></span>
<span id="cb3-1256"><a href="liitteet.html#cb3-1256"></a><span class="co">#str(apu2_df)</span></span>
<span id="cb3-1257"><a href="liitteet.html#cb3-1257"></a><span class="co">## typeof(apu2_df) # what is it?</span></span>
<span id="cb3-1258"><a href="liitteet.html#cb3-1258"></a><span class="co">## class(apu2_df) # what is it? (sorry)</span></span>
<span id="cb3-1259"><a href="liitteet.html#cb3-1259"></a><span class="co">## storage.mode(apu2_df) # what is it? (very sorry)</span></span>
<span id="cb3-1260"><a href="liitteet.html#cb3-1260"></a><span class="co">## length(apu2_df) # how long is it? What about two dimensional</span></span>
<span id="cb3-1261"><a href="liitteet.html#cb3-1261"></a><span class="co">## objects?</span></span>
<span id="cb3-1262"><a href="liitteet.html#cb3-1262"></a><span class="co"># attributes(apu2_df)</span></span>
<span id="cb3-1263"><a href="liitteet.html#cb3-1263"></a></span>
<span id="cb3-1264"><a href="liitteet.html#cb3-1264"></a><span class="co"># temp1 &lt;- cbind(apu2_df, ind = rownames(apu2_df))</span></span>
<span id="cb3-1265"><a href="liitteet.html#cb3-1265"></a><span class="co"># temp1</span></span>
<span id="cb3-1266"><a href="liitteet.html#cb3-1266"></a><span class="co">##muokataan &#39;long data&#39; - muotoon</span></span>
<span id="cb3-1267"><a href="liitteet.html#cb3-1267"></a>apu2b_df &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">cbind</span>(apu2_df, <span class="dt">ind =</span> <span class="kw">rownames</span>(apu2_df)), <span class="dt">id.vars =</span> <span class="kw">c</span>(<span class="st">&#39;ind&#39;</span>))</span>
<span id="cb3-1268"><a href="liitteet.html#cb3-1268"></a><span class="co"># str(apu2b_df)</span></span>
<span id="cb3-1269"><a href="liitteet.html#cb3-1269"></a><span class="co"># glimpse(apu2b_df)</span></span>
<span id="cb3-1270"><a href="liitteet.html#cb3-1270"></a></span>
<span id="cb3-1271"><a href="liitteet.html#cb3-1271"></a><span class="co">#</span></span>
<span id="cb3-1272"><a href="liitteet.html#cb3-1272"></a><span class="co">#ggplot(apu2b_df, aes(x = value, y = ind, fill = variable)) +</span></span>
<span id="cb3-1273"><a href="liitteet.html#cb3-1273"></a><span class="co">#       geom_bar(position = &quot;fill&quot;, stat =&quot;identity&quot;) +</span></span>
<span id="cb3-1274"><a href="liitteet.html#cb3-1274"></a><span class="co">#       #coord_flip() +</span></span>
<span id="cb3-1275"><a href="liitteet.html#cb3-1275"></a><span class="co">#        scale_x_continuous(labels = percent_format())</span></span>
<span id="cb3-1276"><a href="liitteet.html#cb3-1276"></a></span>
<span id="cb3-1277"><a href="liitteet.html#cb3-1277"></a><span class="co">#versio2 toimii (18.9.2018)</span></span>
<span id="cb3-1278"><a href="liitteet.html#cb3-1278"></a></span>
<span id="cb3-1279"><a href="liitteet.html#cb3-1279"></a>p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(apu2b_df, <span class="kw">aes</span>(<span class="dt">x =</span> ind, <span class="dt">y =</span> value, <span class="dt">fill =</span> variable)) <span class="op">+</span></span>
<span id="cb3-1280"><a href="liitteet.html#cb3-1280"></a><span class="st">       </span><span class="kw">geom_bar</span>(<span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></span>
<span id="cb3-1281"><a href="liitteet.html#cb3-1281"></a><span class="st">       </span><span class="kw">coord_flip</span>() <span class="op">+</span></span>
<span id="cb3-1282"><a href="liitteet.html#cb3-1282"></a><span class="st">        </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot; &quot;</span>,<span class="dt">labels =</span> <span class="kw">percent_format</span>())</span>
<span id="cb3-1283"><a href="liitteet.html#cb3-1283"></a>p &lt;-<span class="st"> </span>p <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;Q1b&quot;</span>)</span>
<span id="cb3-1284"><a href="liitteet.html#cb3-1284"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">scale_x_discrete</span>(<span class="dt">name =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb3-1285"><a href="liitteet.html#cb3-1285"></a></span>
<span id="cb3-1286"><a href="liitteet.html#cb3-1286"></a></span>
<span id="cb3-1287"><a href="liitteet.html#cb3-1287"></a></span>
<span id="cb3-1288"><a href="liitteet.html#cb3-1288"></a><span class="co"># simpleCA1 luotu aikaisemmin profiilikuvia varten koodilohkossa EkaCA</span></span>
<span id="cb3-1289"><a href="liitteet.html#cb3-1289"></a><span class="co"># HUOM! xlab ja ylab, prosenttiosuudet ensin katsottu ja sitten kirjoitettu</span></span>
<span id="cb3-1290"><a href="liitteet.html#cb3-1290"></a><span class="co"># tässä. Vertaa scree-plot - tietoon!</span></span>
<span id="cb3-1291"><a href="liitteet.html#cb3-1291"></a></span>
<span id="cb3-1292"><a href="liitteet.html#cb3-1292"></a></span>
<span id="cb3-1293"><a href="liitteet.html#cb3-1293"></a><span class="kw">par</span>(<span class="dt">cex =</span> <span class="dv">1</span>)</span>
<span id="cb3-1294"><a href="liitteet.html#cb3-1294"></a><span class="kw">plot</span>(simpleCA1, <span class="dt">map =</span> <span class="st">&quot;symmetric&quot;</span>, <span class="dt">mass =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">TRUE</span>),</span>
<span id="cb3-1295"><a href="liitteet.html#cb3-1295"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Dimensio 1: moderni/liberaali - perinteinen/konservatiivinen (76%)&quot;</span>,</span>
<span id="cb3-1296"><a href="liitteet.html#cb3-1296"></a>     <span class="dt">ylab =</span> <span class="st">&quot;Dimensio 2: maltillinen/epävarma - radikaali/jyrkkä/varma (15.1%)&quot;</span>,</span>
<span id="cb3-1297"><a href="liitteet.html#cb3-1297"></a>     <span class="dt">main =</span> <span class="st">&quot;symmetrinen kartta 1&quot;</span>,</span>
<span id="cb3-1298"><a href="liitteet.html#cb3-1298"></a>     <span class="dt">sub =</span> <span class="st">&quot;Maiden massat eri suuruisia (otoskoko), pisteiden koko suhteessa massaan&quot;</span>)</span>
<span id="cb3-1299"><a href="liitteet.html#cb3-1299"></a><span class="co"># asymmetrinen kartta - rivit pc ja sarakkeet sc</span></span>
<span id="cb3-1300"><a href="liitteet.html#cb3-1300"></a><span class="co"># sarakkeet vektorikuvina</span></span>
<span id="cb3-1301"><a href="liitteet.html#cb3-1301"></a></span>
<span id="cb3-1302"><a href="liitteet.html#cb3-1302"></a><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">0.7</span>)</span>
<span id="cb3-1303"><a href="liitteet.html#cb3-1303"></a><span class="kw">plot</span>(simpleCA1, <span class="dt">map =</span> <span class="st">&quot;rowprincipal&quot;</span>, </span>
<span id="cb3-1304"><a href="liitteet.html#cb3-1304"></a>     <span class="dt">arrows =</span> <span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">TRUE</span>), </span>
<span id="cb3-1305"><a href="liitteet.html#cb3-1305"></a>     <span class="dt">main =</span> <span class="st">&quot;asymmetrinen kartta 1&quot;</span></span>
<span id="cb3-1306"><a href="liitteet.html#cb3-1306"></a>    )</span>
<span id="cb3-1307"><a href="liitteet.html#cb3-1307"></a></span>
<span id="cb3-1308"><a href="liitteet.html#cb3-1308"></a><span class="co"># Piirretään Suomen riviprofiilista janat sarakepisteisiin - barysentinen keskiarvo</span></span>
<span id="cb3-1309"><a href="liitteet.html#cb3-1309"></a><span class="co"># Rivipisteet pääkoordinaatteina (principal coordinates)</span></span>
<span id="cb3-1310"><a href="liitteet.html#cb3-1310"></a></span>
<span id="cb3-1311"><a href="liitteet.html#cb3-1311"></a>simpleCA1.rpc &lt;-<span class="st"> </span>simpleCA1<span class="op">$</span>rowcoord <span class="op">%*%</span><span class="st"> </span><span class="kw">diag</span>(simpleCA1<span class="op">$</span>sv)</span>
<span id="cb3-1312"><a href="liitteet.html#cb3-1312"></a></span>
<span id="cb3-1313"><a href="liitteet.html#cb3-1313"></a><span class="co"># X11()</span></span>
<span id="cb3-1314"><a href="liitteet.html#cb3-1314"></a><span class="kw">par</span>(<span class="dt">cex =</span> <span class="dv">1</span>)</span>
<span id="cb3-1315"><a href="liitteet.html#cb3-1315"></a><span class="kw">plot</span>(simpleCA1, <span class="dt">map =</span> <span class="st">&quot;rowprincipal&quot;</span>, </span>
<span id="cb3-1316"><a href="liitteet.html#cb3-1316"></a>     <span class="dt">arrows =</span> <span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">FALSE</span>),</span>
<span id="cb3-1317"><a href="liitteet.html#cb3-1317"></a>     <span class="co"># main = &quot;barysentrinen periaate - asymmetrinen kartta 2&quot;,</span></span>
<span id="cb3-1318"><a href="liitteet.html#cb3-1318"></a>     <span class="dt">sub =</span> <span class="st">&quot;Suomen profiili sarakkeiden barysentrisenä keskiarvona&quot;</span>)</span>
<span id="cb3-1319"><a href="liitteet.html#cb3-1319"></a>     <span class="kw">segments</span>(simpleCA1.rpc[<span class="dv">5</span>,<span class="dv">1</span>],simpleCA1.rpc[<span class="dv">5</span>,<span class="dv">2</span>],simpleCA1<span class="op">$</span>colcoord[, <span class="dv">1</span>],</span>
<span id="cb3-1320"><a href="liitteet.html#cb3-1320"></a>         simpleCA1<span class="op">$</span>colcoord[, <span class="dv">2</span>], <span class="dt">col =</span> <span class="st">&quot;pink&quot;</span>)</span>
<span id="cb3-1321"><a href="liitteet.html#cb3-1321"></a></span>
<span id="cb3-1322"><a href="liitteet.html#cb3-1322"></a>knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&#39;img/simpleCAasymmTulk2.png&#39;</span>)</span>
<span id="cb3-1323"><a href="liitteet.html#cb3-1323"></a><span class="co">#par(cex = 0.6)</span></span>
<span id="cb3-1324"><a href="liitteet.html#cb3-1324"></a><span class="kw">plot</span>(simpleCA1, <span class="dt">map =</span> <span class="st">&quot;rowgreen&quot;</span>,</span>
<span id="cb3-1325"><a href="liitteet.html#cb3-1325"></a>     <span class="dt">contrib =</span> <span class="kw">c</span>(<span class="st">&quot;absolute&quot;</span>, <span class="st">&quot;absolute&quot;</span>),</span>
<span id="cb3-1326"><a href="liitteet.html#cb3-1326"></a>     <span class="dt">mass =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">TRUE</span>),</span>
<span id="cb3-1327"><a href="liitteet.html#cb3-1327"></a>     <span class="dt">arrows =</span> <span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>),</span>
<span id="cb3-1328"><a href="liitteet.html#cb3-1328"></a>     <span class="dt">main =</span> <span class="st">&quot;kontribuutiokartta 1&quot;</span>,</span>
<span id="cb3-1329"><a href="liitteet.html#cb3-1329"></a>     <span class="dt">sub =</span> <span class="st">&quot;sarakevektorin ja rivipisteiden värin tummuus = absoluuttinen kontribuutio&quot;</span>)</span>
<span id="cb3-1330"><a href="liitteet.html#cb3-1330"></a></span>
<span id="cb3-1331"><a href="liitteet.html#cb3-1331"></a></span>
<span id="cb3-1332"><a href="liitteet.html#cb3-1332"></a><span class="co">#par(cex = 0.7)</span></span>
<span id="cb3-1333"><a href="liitteet.html#cb3-1333"></a><span class="kw">plot</span>(simpleCA1, <span class="dt">map =</span> <span class="st">&quot;rowgreen&quot;</span>,</span>
<span id="cb3-1334"><a href="liitteet.html#cb3-1334"></a>     <span class="dt">contrib =</span> <span class="kw">c</span>(<span class="st">&quot;relative&quot;</span>, <span class="st">&quot;relative&quot;</span>),</span>
<span id="cb3-1335"><a href="liitteet.html#cb3-1335"></a>     <span class="dt">mass =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">TRUE</span>),</span>
<span id="cb3-1336"><a href="liitteet.html#cb3-1336"></a>     <span class="dt">arrows =</span> <span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>),</span>
<span id="cb3-1337"><a href="liitteet.html#cb3-1337"></a>     <span class="dt">main =</span> <span class="st">&quot;kontribuutiokartta 2&quot;</span>,</span>
<span id="cb3-1338"><a href="liitteet.html#cb3-1338"></a>     <span class="dt">sub =</span> <span class="st">&quot;sarakevektorin ja pisteen värin tummuus = suhteellinen kontribuutio&quot;</span>)</span>
<span id="cb3-1339"><a href="liitteet.html#cb3-1339"></a></span>
<span id="cb3-1340"><a href="liitteet.html#cb3-1340"></a></span>
<span id="cb3-1341"><a href="liitteet.html#cb3-1341"></a><span class="co"># Sama kartta - maiden massat vakiotu - simpleCA3 luotu koodilohkossa EkaCA</span></span>
<span id="cb3-1342"><a href="liitteet.html#cb3-1342"></a><span class="co"># CA:n lähtötietona riviprofiilit</span></span>
<span id="cb3-1343"><a href="liitteet.html#cb3-1343"></a></span>
<span id="cb3-1344"><a href="liitteet.html#cb3-1344"></a><span class="kw">par</span>(<span class="dt">cex =</span> <span class="fl">0.6</span>)</span>
<span id="cb3-1345"><a href="liitteet.html#cb3-1345"></a><span class="kw">plot</span>(simpleCA3, <span class="dt">map =</span> <span class="st">&quot;symmetric&quot;</span>, <span class="dt">mass =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">TRUE</span>),</span>
<span id="cb3-1346"><a href="liitteet.html#cb3-1346"></a><span class="dt">main =</span> <span class="st">&quot;symmetrinen kartta 2 &quot;</span>,</span>
<span id="cb3-1347"><a href="liitteet.html#cb3-1347"></a><span class="dt">sub =</span> <span class="st">&quot;Maidet massat vakioitu (riviprofiilidata)&quot;</span>)</span>
<span id="cb3-1348"><a href="liitteet.html#cb3-1348"></a></span>
<span id="cb3-1349"><a href="liitteet.html#cb3-1349"></a><span class="co"># Belgian ja Saksan aluejako maa3-muuttujassa</span></span>
<span id="cb3-1350"><a href="liitteet.html#cb3-1350"></a><span class="co"># str(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1351"><a href="liitteet.html#cb3-1351"></a><span class="co"># attributes(ISSP2012esim1.dat$maa3)</span></span>
<span id="cb3-1352"><a href="liitteet.html#cb3-1352"></a></span>
<span id="cb3-1353"><a href="liitteet.html#cb3-1353"></a>suppoint1_df1 &lt;-<span class="st"> </span><span class="kw">select</span>(ISSP2012esim1.dat, maa3,Q1b)</span>
<span id="cb3-1354"><a href="liitteet.html#cb3-1354"></a></span>
<span id="cb3-1355"><a href="liitteet.html#cb3-1355"></a><span class="co"># Taulukoksi jotta saadaan lisättyä Saksan ja Belgian maa-profiilit täydentäviksi</span></span>
<span id="cb3-1356"><a href="liitteet.html#cb3-1356"></a><span class="co"># pisteiksi.</span></span>
<span id="cb3-1357"><a href="liitteet.html#cb3-1357"></a></span>
<span id="cb3-1358"><a href="liitteet.html#cb3-1358"></a>suppoint1_tab1 &lt;-<span class="st"> </span><span class="kw">table</span>(suppoint1_df1<span class="op">$</span>maa3, suppoint1_df1<span class="op">$</span>Q1b)</span>
<span id="cb3-1359"><a href="liitteet.html#cb3-1359"></a></span>
<span id="cb3-1360"><a href="liitteet.html#cb3-1360"></a><span class="co"># Maaprofiilit</span></span>
<span id="cb3-1361"><a href="liitteet.html#cb3-1361"></a>suppoint2_df &lt;-<span class="st"> </span><span class="kw">filter</span>(ISSP2012esim1.dat, (maa <span class="op">==</span><span class="st"> &quot;BE&quot;</span> <span class="op">|</span><span class="st"> </span>maa <span class="op">==</span><span class="st"> &quot;DE&quot;</span>))</span>
<span id="cb3-1362"><a href="liitteet.html#cb3-1362"></a>suppoint2_df &lt;-<span class="st"> </span><span class="kw">select</span>(suppoint2_df, maa, Q1b)</span>
<span id="cb3-1363"><a href="liitteet.html#cb3-1363"></a></span>
<span id="cb3-1364"><a href="liitteet.html#cb3-1364"></a><span class="co">#glimpse(suppoint2_df)</span></span>
<span id="cb3-1365"><a href="liitteet.html#cb3-1365"></a>suppoint2_tab1 &lt;-<span class="st"> </span><span class="kw">table</span>(suppoint2_df<span class="op">$</span>maa, suppoint2_df<span class="op">$</span>Q1b)</span>
<span id="cb3-1366"><a href="liitteet.html#cb3-1366"></a>suppoint2_tab1 <span class="co"># tarkistus 1</span></span>
<span id="cb3-1367"><a href="liitteet.html#cb3-1367"></a><span class="co"># Huom! tämä komento vain kerran - tai koko Rmd-tiedosto uudestaan (17.10.20)</span></span>
<span id="cb3-1368"><a href="liitteet.html#cb3-1368"></a>suppoint2_tab1 &lt;-<span class="st"> </span>suppoint2_tab1[<span class="op">-</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span><span class="op">:</span><span class="dv">6</span>) ,]</span>
<span id="cb3-1369"><a href="liitteet.html#cb3-1369"></a><span class="co">#suppoint2_tab1 # tarkistus 2</span></span>
<span id="cb3-1370"><a href="liitteet.html#cb3-1370"></a></span>
<span id="cb3-1371"><a href="liitteet.html#cb3-1371"></a><span class="co"># lisätään rivit maa3-muuttujan taulukkoon</span></span>
<span id="cb3-1372"><a href="liitteet.html#cb3-1372"></a>suppoint1_tab1 &lt;-<span class="st"> </span><span class="kw">rbind</span>(suppoint1_tab1, suppoint2_tab1)</span>
<span id="cb3-1373"><a href="liitteet.html#cb3-1373"></a><span class="co">#suppoint1_tab1 # tarkistus 3</span></span>
<span id="cb3-1374"><a href="liitteet.html#cb3-1374"></a></span>
<span id="cb3-1375"><a href="liitteet.html#cb3-1375"></a><span class="co">## riviprofiilitaulukko joteskin (18.9.20)</span></span>
<span id="cb3-1376"><a href="liitteet.html#cb3-1376"></a>BeDealueTable &lt;-<span class="st"> </span>ISSP2012esim1.dat <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tableX</span>(maa3, Q1b, <span class="dt">type =</span> <span class="st">&quot;row_perc&quot;</span>)</span>
<span id="cb3-1377"><a href="liitteet.html#cb3-1377"></a></span>
<span id="cb3-1378"><a href="liitteet.html#cb3-1378"></a></span>
<span id="cb3-1379"><a href="liitteet.html#cb3-1379"></a>knitr<span class="op">::</span><span class="kw">kable</span>(BeDealueTable,<span class="dt">digits =</span> <span class="dv">2</span>, <span class="dt">booktabs =</span> <span class="ot">TRUE</span>,</span>
<span id="cb3-1380"><a href="liitteet.html#cb3-1380"></a>             <span class="dt">caption =</span> <span class="st">&quot;Q1b vastaukset, Saksan ja Belgian alueet&quot;</span>)</span>
<span id="cb3-1381"><a href="liitteet.html#cb3-1381"></a>suppointCA2 &lt;-<span class="st"> </span><span class="kw">ca</span>(suppoint1_tab1[,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">suprow =</span> <span class="dv">10</span><span class="op">:</span><span class="dv">11</span>)</span>
<span id="cb3-1382"><a href="liitteet.html#cb3-1382"></a></span>
<span id="cb3-1383"><a href="liitteet.html#cb3-1383"></a><span class="co"># par(cex = 0.6)</span></span>
<span id="cb3-1384"><a href="liitteet.html#cb3-1384"></a><span class="kw">plot</span>(suppointCA2, <span class="dt">main =</span> <span class="st">&quot;Symmetrinen kartta 1 &quot;</span>,</span>
<span id="cb3-1385"><a href="liitteet.html#cb3-1385"></a>     <span class="co"># mass = c(TRUE, TRUE),</span></span>
<span id="cb3-1386"><a href="liitteet.html#cb3-1386"></a>     <span class="co"># contrib = c(TRUE, TRUE),</span></span>
<span id="cb3-1387"><a href="liitteet.html#cb3-1387"></a>     <span class="dt">sub =</span> <span class="st">&quot;Täydentävät pisteet DE ja BE&quot;</span> )</span>
<span id="cb3-1388"><a href="liitteet.html#cb3-1388"></a></span>
<span id="cb3-1389"><a href="liitteet.html#cb3-1389"></a><span class="kw">plot</span>(suppointCA2, <span class="dt">main =</span> <span class="st">&quot;kontribuutiokartta &quot;</span>,</span>
<span id="cb3-1390"><a href="liitteet.html#cb3-1390"></a>        <span class="dt">map =</span> <span class="st">&quot;rowgreen&quot;</span>,</span>
<span id="cb3-1391"><a href="liitteet.html#cb3-1391"></a>        <span class="dt">arrows =</span> <span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>),</span>
<span id="cb3-1392"><a href="liitteet.html#cb3-1392"></a>        <span class="dt">mass =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>),</span>
<span id="cb3-1393"><a href="liitteet.html#cb3-1393"></a>        <span class="dt">contrib =</span> <span class="kw">c</span>(<span class="st">&quot;absolute&quot;</span>,<span class="st">&quot;absolute&quot;</span>),</span>
<span id="cb3-1394"><a href="liitteet.html#cb3-1394"></a>        <span class="dt">sub =</span> <span class="st">&quot;Täydentävät pisteet DE ja BE&quot;</span> )</span>
<span id="cb3-1395"><a href="liitteet.html#cb3-1395"></a></span>
<span id="cb3-1396"><a href="liitteet.html#cb3-1396"></a>knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&#39;img/substvar_fi_Q1Q2.png&#39;</span>)</span>
<span id="cb3-1397"><a href="liitteet.html#cb3-1397"></a><span class="co">#Testataan koodilohkojen listausta, näyttää toimivan mutta vaatii vielä säätämistä.</span></span>
<span id="cb3-1398"><a href="liitteet.html#cb3-1398"></a><span class="co">#Ohje löytyi [Yihui Xienin blogista](https://yihui.name/en/2018/09/code-appendix/)</span></span>
<span id="cb3-1399"><a href="liitteet.html#cb3-1399"></a><span class="co">#(luettu 26.10.2018).</span></span>
<span id="cb3-1400"><a href="liitteet.html#cb3-1400"></a>knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&#39;img/BookdownProc.png&#39;</span>)</span></code></pre></div>
</div>
<div id="tekninen-ympäristö-ja-bookdown-paketti" class="section level2">
<h2><span class="header-section-number">7.6</span> Tekninen ympäristö ja Bookdown-paketti</h2>
<p>Muokataan tiiviimpi pätkä esimerkkireposta bookdown-testi1. Tämä kuva kertoo vain
julkaisutekniikan ympäristön.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="liitteet.html#cb4-1"></a>knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&#39;img/BookdownProc.png&#39;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:L3bdprocess1"></span>
<img src="img/BookdownProc.png" alt="Tulostiedoston prosessointi" width="60%" />
<p class="caption">
Kuva 7.2: Tulostiedoston prosessointi
</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="monimuuttuja-korrespondenssianalyysi-mca-ja-yhdistetyt-taulukot.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lähteet-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["JH_capaper.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
